"use strict";(self.webpackChunkdocs_netpad_io=self.webpackChunkdocs_netpad_io||[]).push([[1630],{28453:(e,n,o)=>{o.d(n,{R:()=>r,x:()=>l});var s=o(96540);const t={},i=s.createContext(t);function r(e){const n=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:r(e.components),s.createElement(i.Provider,{value:n},e.children)}},63754:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>d,contentTitle:()=>l,default:()=>h,frontMatter:()=>r,metadata:()=>s,toc:()=>a});const s=JSON.parse('{"id":"extensions/example-demo-node","title":"Example: Demo Node Extension","description":"A beginner-friendly walkthrough of creating a simple workflow node extension","source":"@site/docs/extensions/example-demo-node.md","sourceDirName":"extensions","slug":"/extensions/example-demo-node","permalink":"/docs/extensions/example-demo-node","draft":false,"unlisted":false,"editUrl":"https://github.com/mrlynn/netpad-v3/tree/main/docs/docs/extensions/example-demo-node.md","tags":[],"version":"current","sidebarPosition":6,"frontMatter":{"sidebar_position":6,"title":"Example: Demo Node Extension","description":"A beginner-friendly walkthrough of creating a simple workflow node extension"}}');var t=o(74848),i=o(28453);const r={sidebar_position:6,title:"Example: Demo Node Extension",description:"A beginner-friendly walkthrough of creating a simple workflow node extension"},l="Example: Demo Node Extension",d={},a=[{value:"What You&#39;ll Learn",id:"what-youll-learn",level:2},{value:"Overview",id:"overview",level:2},{value:"Package Structure",id:"package-structure",level:2},{value:"Step-by-Step Walkthrough",id:"step-by-step-walkthrough",level:2},{value:"1. Package Configuration",id:"1-package-configuration",level:3},{value:"2. Type Definitions",id:"2-type-definitions",level:3},{value:"3. Node Configuration Interface",id:"3-node-configuration-interface",level:3},{value:"4. Node Handler Implementation",id:"4-node-handler-implementation",level:3},{value:"5. Node Definition",id:"5-node-definition",level:3},{value:"6. Extension Definition",id:"6-extension-definition",level:3},{value:"Installation",id:"installation",level:2},{value:"1. Add to Dependencies",id:"1-add-to-dependencies",level:3},{value:"2. Register in Extension Loader",id:"2-register-in-extension-loader",level:3},{value:"3. Enable in Environment",id:"3-enable-in-environment",level:3},{value:"4. Install &amp; Restart",id:"4-install--restart",level:3},{value:"Testing Your Node",id:"testing-your-node",level:2},{value:"Verify Extension Loaded",id:"verify-extension-loaded",level:3},{value:"Verify Node Registered",id:"verify-node-registered",level:3},{value:"Use in Workflow Editor",id:"use-in-workflow-editor",level:3},{value:"Using the Node",id:"using-the-node",level:2},{value:"Basic Usage",id:"basic-usage",level:3},{value:"With Variables",id:"with-variables",level:3},{value:"Output Data",id:"output-data",level:3},{value:"Creating Your Own Extension",id:"creating-your-own-extension",level:2},{value:"Key Concepts Recap",id:"key-concepts-recap",level:2},{value:"Source Code",id:"source-code",level:2},{value:"Next Steps",id:"next-steps",level:2}];function c(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"example-demo-node-extension",children:"Example: Demo Node Extension"})}),"\n",(0,t.jsxs)(n.p,{children:["This guide walks through the ",(0,t.jsx)(n.code,{children:"@netpad/demo-node"})," extension\u2014a minimal, heavily-documented example designed to teach you how to create workflow node extensions for NetPad."]}),"\n",(0,t.jsx)(n.h2,{id:"what-youll-learn",children:"What You'll Learn"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"How to structure an extension package"}),"\n",(0,t.jsx)(n.li,{children:"How to define a workflow node (appearance, configuration)"}),"\n",(0,t.jsx)(n.li,{children:"How to implement a node handler (execution logic)"}),"\n",(0,t.jsx)(n.li,{children:"How to register and load your extension"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,t.jsxs)(n.p,{children:["The Demo Node extension provides a single workflow node called ",(0,t.jsx)(n.strong,{children:'"Log Message"'})," that:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Logs a configurable message to the console"}),"\n",(0,t.jsx)(n.li,{children:"Supports different log levels (info, warn, error)"}),"\n",(0,t.jsx)(n.li,{children:"Passes data through to downstream nodes"}),"\n",(0,t.jsx)(n.li,{children:"Demonstrates all key extension concepts"}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:'\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                  Demo Node Extension                 \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                      \u2502\n\u2502   \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510   \u2502\n\u2502   \u2502           "Log Message" Node                 \u2502   \u2502\n\u2502   \u2502                                              \u2502   \u2502\n\u2502   \u2502   \u2022 Category: Custom                         \u2502   \u2502\n\u2502   \u2502   \u2022 Color: Orange (#FF6B35)                  \u2502   \u2502\n\u2502   \u2502   \u2022 Icon: Terminal                           \u2502   \u2502\n\u2502   \u2502                                              \u2502   \u2502\n\u2502   \u2502   Config Fields:                             \u2502   \u2502\n\u2502   \u2502   \u2022 Message (textarea)                       \u2502   \u2502\n\u2502   \u2502   \u2022 Log Level (select)                       \u2502   \u2502\n\u2502   \u2502   \u2022 Label (text)                             \u2502   \u2502\n\u2502   \u2502   \u2022 Pass Through (boolean)                   \u2502   \u2502\n\u2502   \u2502                                              \u2502   \u2502\n\u2502   \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518   \u2502\n\u2502                                                      \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n'})}),"\n",(0,t.jsx)(n.h2,{id:"package-structure",children:"Package Structure"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"packages/demo-node/\n\u251c\u2500\u2500 package.json          # Package metadata\n\u251c\u2500\u2500 README.md             # Usage documentation\n\u2514\u2500\u2500 src/\n    \u2514\u2500\u2500 index.ts          # Extension + node definition + handler\n"})}),"\n",(0,t.jsx)(n.p,{children:"This is the simplest possible structure\u2014a single file containing everything."}),"\n",(0,t.jsx)(n.h2,{id:"step-by-step-walkthrough",children:"Step-by-Step Walkthrough"}),"\n",(0,t.jsx)(n.h3,{id:"1-package-configuration",children:"1. Package Configuration"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.code,{children:"package.json"})})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n  "name": "@netpad/demo-node",\n  "version": "1.0.0",\n  "description": "A simple demonstration of a NetPad workflow node extension",\n  "main": "src/index.ts",\n  "types": "src/index.ts",\n  "author": "NetPad Team",\n  "license": "MIT",\n  "peerDependencies": {\n    "next": ">=14.0.0"\n  }\n}\n'})}),"\n",(0,t.jsx)(n.p,{children:"Key points:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Use the ",(0,t.jsx)(n.code,{children:"@netpad/"})," namespace for consistency"]}),"\n",(0,t.jsxs)(n.li,{children:["Point ",(0,t.jsx)(n.code,{children:"main"})," and ",(0,t.jsx)(n.code,{children:"types"})," to your entry file"]}),"\n",(0,t.jsxs)(n.li,{children:["Declare ",(0,t.jsx)(n.code,{children:"next"})," as a peer dependency (required for route handlers)"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"2-type-definitions",children:"2. Type Definitions"}),"\n",(0,t.jsx)(n.p,{children:"Before implementing the node, define the types. These match NetPad's core types:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"// Result returned by a node handler\ninterface NodeExecutionResult {\n  success: boolean;\n  data: Record<string, unknown>;\n  error?: {\n    code: string;\n    message: string;\n    retryable: boolean;\n  };\n  metadata?: {\n    durationMs?: number;\n    bytesProcessed?: number;\n  };\n}\n\n// Context provided to the handler during execution\ninterface NodeExecutionContext {\n  nodeId: string;\n  nodeType: string;\n  config: Record<string, unknown>;           // Raw config\n  resolvedConfig: Record<string, unknown>;   // Variables substituted\n  inputs: Record<string, unknown>;           // Data from upstream nodes\n  trigger: { type: string; payload?: Record<string, unknown> };\n  getConnection: (vaultId: string) => Promise<{ connectionString: string; database: string } | null>;\n  getEmailCredentials: (credentialId: string) => Promise<unknown>;\n}\n\n// Handler function signature\ntype NodeHandler = (context: NodeExecutionContext) => Promise<NodeExecutionResult>;\n"})}),"\n",(0,t.jsx)(n.h3,{id:"3-node-configuration-interface",children:"3. Node Configuration Interface"}),"\n",(0,t.jsx)(n.p,{children:"Define what configuration options your node accepts:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"interface LogMessageConfig {\n  /** The message to log (supports {{variable}} syntax) */\n  message?: string;\n  /** Log level: info, warn, or error */\n  level?: 'info' | 'warn' | 'error';\n  /** Whether to include input data in the output */\n  passthrough?: boolean;\n  /** Custom label for the log entry */\n  label?: string;\n}\n"})}),"\n",(0,t.jsx)(n.h3,{id:"4-node-handler-implementation",children:"4. Node Handler Implementation"}),"\n",(0,t.jsx)(n.p,{children:"The handler contains your node's business logic:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"const logMessageHandler: NodeHandler = async (context): Promise<NodeExecutionResult> => {\n  const startTime = Date.now();\n\n  try {\n    // Get resolved config (variables already substituted)\n    const config = context.resolvedConfig as LogMessageConfig;\n\n    // Extract configuration with defaults\n    const message = config.message || 'Hello from the Demo Node!';\n    const level = config.level || 'info';\n    const passthrough = config.passthrough !== false;\n    const label = config.label || 'Demo Node';\n\n    // Create the log entry\n    const logEntry = {\n      label,\n      level,\n      message,\n      timestamp: new Date().toISOString(),\n      nodeId: context.nodeId,\n      triggeredBy: context.trigger.type,\n    };\n\n    // Actually log the message\n    const logPrefix = `[${label}]`;\n    switch (level) {\n      case 'warn':\n        console.warn(logPrefix, message);\n        break;\n      case 'error':\n        console.error(logPrefix, message);\n        break;\n      default:\n        console.log(logPrefix, message);\n    }\n\n    // Build output data\n    const outputData: Record<string, unknown> = {\n      log: logEntry,\n      message: `Logged: \"${message}\"`,\n    };\n\n    // Include inputs if passthrough is enabled\n    if (passthrough) {\n      outputData.passthrough = context.inputs;\n    }\n\n    // Return success\n    return {\n      success: true,\n      data: outputData,\n      metadata: {\n        durationMs: Date.now() - startTime,\n      },\n    };\n\n  } catch (error) {\n    // Return failure on error\n    return {\n      success: false,\n      data: {},\n      error: {\n        code: 'OPERATION_FAILED',\n        message: error instanceof Error ? error.message : 'Unknown error',\n        retryable: false,\n      },\n    };\n  }\n};\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Key patterns:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Track execution time with ",(0,t.jsx)(n.code,{children:"startTime"})]}),"\n",(0,t.jsxs)(n.li,{children:["Use ",(0,t.jsx)(n.code,{children:"resolvedConfig"})," (not ",(0,t.jsx)(n.code,{children:"config"}),") to get variable-substituted values"]}),"\n",(0,t.jsx)(n.li,{children:"Provide sensible defaults for all configuration"}),"\n",(0,t.jsx)(n.li,{children:"Return structured output data for downstream nodes"}),"\n",(0,t.jsx)(n.li,{children:"Always handle errors gracefully"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"5-node-definition",children:"5. Node Definition"}),"\n",(0,t.jsx)(n.p,{children:"Define how the node appears in the workflow editor:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"const logMessageDefinition = {\n  // Unique type - convention is 'extensionid:node-name'\n  type: 'demo:log-message',\n\n  // Display name in palette and on node\n  label: 'Log Message',\n\n  // Tooltip description\n  description: 'Logs a message to the console and passes data through. Great for debugging workflows!',\n\n  // Palette category\n  category: 'custom' as const,\n\n  // Node color (hex)\n  color: '#FF6B35',\n\n  // MUI icon name\n  icon: 'Terminal',\n\n  // Semantic version\n  version: '1.0.0',\n\n  // Configuration fields for the node editor\n  configFields: [\n    {\n      name: 'message',\n      label: 'Message',\n      type: 'textarea' as const,\n      placeholder: 'Enter your message here...',\n      helpText: 'Use {{variable}} syntax to include data from previous nodes.',\n      defaultValue: 'Hello from the Demo Node!',\n    },\n    {\n      name: 'level',\n      label: 'Log Level',\n      type: 'select' as const,\n      defaultValue: 'info',\n      options: [\n        { label: '\ud83d\udcdd Info', value: 'info' },\n        { label: '\u26a0\ufe0f Warning', value: 'warn' },\n        { label: '\u274c Error', value: 'error' },\n      ],\n      helpText: 'The severity level of the log message',\n    },\n    {\n      name: 'label',\n      label: 'Label',\n      type: 'text' as const,\n      placeholder: 'Demo Node',\n      helpText: 'A custom label that appears in the log output',\n    },\n    {\n      name: 'passthrough',\n      label: 'Pass Through Inputs',\n      type: 'boolean' as const,\n      defaultValue: true,\n      helpText: 'Include input data from previous nodes in the output',\n    },\n  ],\n\n  // Output handles\n  outputs: [\n    {\n      id: 'output',\n      label: 'Success',\n      primary: true,\n    },\n  ],\n};\n"})}),"\n",(0,t.jsx)(n.h3,{id:"6-extension-definition",children:"6. Extension Definition"}),"\n",(0,t.jsx)(n.p,{children:"Wrap everything in the extension interface:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"import { NextRequest, NextResponse } from 'next/server';\n\ninterface NetPadExtension {\n  metadata: {\n    id: string;\n    name: string;\n    version: string;\n    description?: string;\n    author?: string;\n  };\n  features?: string[];\n  routes?: Array<{\n    path: string;\n    method: 'GET' | 'POST' | 'PUT' | 'PATCH' | 'DELETE';\n    handler: (request: NextRequest) => Promise<NextResponse>;\n    requiresAuth?: boolean;\n  }>;\n  workflowNodes?: Array<{\n    definition: typeof logMessageDefinition;\n    handler: NodeHandler;\n  }>;\n  services?: Record<string, unknown>;\n  initialize?: () => Promise<void>;\n  cleanup?: () => Promise<void>;\n}\n\nexport const demoNodeExtension: NetPadExtension = {\n  metadata: {\n    id: 'netpad-demo-node',\n    name: 'Demo Node Extension',\n    version: '1.0.0',\n    description: 'A simple demonstration of how to create NetPad workflow node extensions',\n    author: 'NetPad Team',\n  },\n\n  features: ['custom:demo-node'],\n\n  workflowNodes: [\n    {\n      definition: logMessageDefinition,\n      handler: logMessageHandler,\n    },\n  ],\n\n  initialize: async () => {\n    console.log('[Demo Node] Extension initialized! \ud83d\ude80');\n  },\n\n  cleanup: async () => {\n    console.log('[Demo Node] Extension cleaned up.');\n  },\n};\n\nexport default demoNodeExtension;\n"})}),"\n",(0,t.jsx)(n.h2,{id:"installation",children:"Installation"}),"\n",(0,t.jsx)(n.h3,{id:"1-add-to-dependencies",children:"1. Add to Dependencies"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'// package.json\n{\n  "dependencies": {\n    "@netpad/demo-node": "file:packages/demo-node"\n  }\n}\n'})}),"\n",(0,t.jsx)(n.h3,{id:"2-register-in-extension-loader",children:"2. Register in Extension Loader"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"// src/lib/extensions/loader.ts\n\nconst knownExtensionLoaders: Record<string, () => Promise<unknown>> = {\n  '@netpad/cloud-features': () => import('@netpad/cloud-features').catch(() => null),\n  '@netpad/collaborate': () => import('@netpad/collaborate').catch(() => null),\n  '@netpad/demo-node': () => import('@netpad/demo-node').catch(() => null),  // Add this\n};\n\nconst namedExports = [\n  'extension',\n  'cloudExtension',\n  'collaborateExtension',\n  'demoNodeExtension',  // Add this\n  // ...\n];\n"})}),"\n",(0,t.jsx)(n.h3,{id:"3-enable-in-environment",children:"3. Enable in Environment"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# .env.local\nNETPAD_EXTENSIONS=@netpad/collaborate,@netpad/demo-node\n"})}),"\n",(0,t.jsx)(n.h3,{id:"4-install--restart",children:"4. Install & Restart"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"npm install\nnpm run dev\n"})}),"\n",(0,t.jsx)(n.h2,{id:"testing-your-node",children:"Testing Your Node"}),"\n",(0,t.jsx)(n.h3,{id:"verify-extension-loaded",children:"Verify Extension Loaded"}),"\n",(0,t.jsx)(n.p,{children:"Check the extension status:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"curl http://localhost:3000/api/ext/status\n"})}),"\n",(0,t.jsx)(n.p,{children:"Look for your extension in the response:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n  "success": true,\n  "data": {\n    "extensions": [\n      {\n        "id": "netpad-demo-node",\n        "name": "Demo Node Extension",\n        "version": "1.0.0"\n      }\n    ]\n  }\n}\n'})}),"\n",(0,t.jsx)(n.h3,{id:"verify-node-registered",children:"Verify Node Registered"}),"\n",(0,t.jsx)(n.p,{children:"Check workflow nodes:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"curl http://localhost:3000/api/ext/workflow-nodes\n"})}),"\n",(0,t.jsx)(n.p,{children:"Response should include:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n  "nodes": [\n    {\n      "type": "demo:log-message",\n      "label": "Log Message",\n      "category": "custom",\n      "providedBy": "netpad-demo-node"\n    }\n  ]\n}\n'})}),"\n",(0,t.jsx)(n.h3,{id:"use-in-workflow-editor",children:"Use in Workflow Editor"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"Open the workflow editor"}),"\n",(0,t.jsxs)(n.li,{children:["Look in the ",(0,t.jsx)(n.strong,{children:"Custom"})," category in the node palette"]}),"\n",(0,t.jsxs)(n.li,{children:["Drag ",(0,t.jsx)(n.strong,{children:'"Log Message"'})," onto the canvas"]}),"\n",(0,t.jsx)(n.li,{children:"Configure and connect to other nodes"}),"\n",(0,t.jsx)(n.li,{children:"Run the workflow and check console output"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"using-the-node",children:"Using the Node"}),"\n",(0,t.jsx)(n.h3,{id:"basic-usage",children:"Basic Usage"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["Drag the ",(0,t.jsx)(n.strong,{children:"Log Message"})," node onto the canvas"]}),"\n",(0,t.jsx)(n.li,{children:"Connect it after a trigger node"}),"\n",(0,t.jsx)(n.li,{children:"Configure the message"}),"\n",(0,t.jsx)(n.li,{children:"Run the workflow"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"with-variables",children:"With Variables"}),"\n",(0,t.jsxs)(n.p,{children:["Use ",(0,t.jsx)(n.code,{children:"{{variable}}"})," syntax to include dynamic data:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"New form submission from {{nodes.formTrigger.data.email}}\n"})}),"\n",(0,t.jsx)(n.p,{children:"When the workflow runs, variables are resolved before your handler executes."}),"\n",(0,t.jsx)(n.h3,{id:"output-data",children:"Output Data"}),"\n",(0,t.jsx)(n.p,{children:"The node outputs:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n  "log": {\n    "label": "Demo Node",\n    "level": "info",\n    "message": "Your configured message",\n    "timestamp": "2024-01-15T10:30:00.000Z",\n    "nodeId": "demo:log-message_abc123",\n    "triggeredBy": "form-submission"\n  },\n  "message": "Logged: \\"Your configured message\\"",\n  "passthrough": { /* input data if enabled */ }\n}\n'})}),"\n",(0,t.jsxs)(n.p,{children:["Downstream nodes can access this data using ",(0,t.jsx)(n.code,{children:"{{nodes.logMessage.log.message}}"}),", etc."]}),"\n",(0,t.jsx)(n.h2,{id:"creating-your-own-extension",children:"Creating Your Own Extension"}),"\n",(0,t.jsx)(n.p,{children:"Use this demo as a template:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Copy the package"})," to a new directory"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsxs)(n.strong,{children:["Update ",(0,t.jsx)(n.code,{children:"package.json"})]})," with your extension name"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsxs)(n.strong,{children:["Modify ",(0,t.jsx)(n.code,{children:"src/index.ts"})]}),":","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Change the extension ",(0,t.jsx)(n.code,{children:"metadata"})]}),"\n",(0,t.jsxs)(n.li,{children:["Update node ",(0,t.jsx)(n.code,{children:"type"}),", ",(0,t.jsx)(n.code,{children:"label"}),", ",(0,t.jsx)(n.code,{children:"icon"}),", ",(0,t.jsx)(n.code,{children:"color"})]}),"\n",(0,t.jsxs)(n.li,{children:["Modify ",(0,t.jsx)(n.code,{children:"configFields"})," for your needs"]}),"\n",(0,t.jsx)(n.li,{children:"Implement your logic in the handler"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Register"})," your extension in the loader"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Enable"})," via ",(0,t.jsx)(n.code,{children:"NETPAD_EXTENSIONS"})]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"key-concepts-recap",children:"Key Concepts Recap"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Concept"}),(0,t.jsx)(n.th,{children:"Purpose"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"Extension Metadata"})}),(0,t.jsx)(n.td,{children:"Identifies your extension in the system"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"Workflow Nodes"})}),(0,t.jsx)(n.td,{children:"Custom nodes that appear in the editor palette"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"Node Definition"})}),(0,t.jsx)(n.td,{children:"Describes appearance and configuration UI"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"Node Handler"})}),(0,t.jsx)(n.td,{children:"Function that executes when the workflow runs"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"Config Fields"})}),(0,t.jsx)(n.td,{children:"UI fields in the node configuration panel"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"Node Outputs"})}),(0,t.jsx)(n.td,{children:"Data passed to downstream nodes"})]})]})]}),"\n",(0,t.jsx)(n.h2,{id:"source-code",children:"Source Code"}),"\n",(0,t.jsx)(n.p,{children:"The complete source code is available at:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"packages/demo-node/\n\u251c\u2500\u2500 package.json\n\u251c\u2500\u2500 README.md\n\u2514\u2500\u2500 src/\n    \u2514\u2500\u2500 index.ts\n"})}),"\n",(0,t.jsx)(n.p,{children:"The code is extensively commented to serve as a learning resource."}),"\n",(0,t.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"./workflow-nodes",children:"Workflow Node Extensions"})," - Complete node reference"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"./building-extensions",children:"Building Extensions"})," - Full extension guide"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"./api-reference",children:"API Reference"})," - Complete API documentation"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"./example-collaborate",children:"Example: Collaborate Extension"})," - Production example"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}}}]);