"use strict";(self.webpackChunkdocs_netpad_io=self.webpackChunkdocs_netpad_io||[]).push([[9212],{15702:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>d,contentTitle:()=>o,default:()=>h,frontMatter:()=>l,metadata:()=>r,toc:()=>a});const r=JSON.parse('{"id":"collaborators/architecture-overview","title":"Architecture Overview","description":"Technical Overview for Engineers","source":"@site/docs/collaborators/architecture-overview.md","sourceDirName":"collaborators","slug":"/collaborators/architecture-overview","permalink":"/docs/collaborators/architecture-overview","draft":false,"unlisted":false,"editUrl":"https://github.com/mrlynn/netpad-v3/tree/main/docs/docs/collaborators/architecture-overview.md","tags":[],"version":"current","frontMatter":{},"sidebar":"docs","previous":{"title":"\ud83d\ude80 Getting Started","permalink":"/docs/collaborators/getting-started"},"next":{"title":"\ud83c\udfaf Current Priorities","permalink":"/docs/collaborators/current-priorities"}}');var t=i(74848),s=i(28453);const l={},o="Architecture Overview",d={},a=[{value:"Technical Overview for Engineers",id:"technical-overview-for-engineers",level:2},{value:"Tech Stack",id:"tech-stack",level:2},{value:"High-Level Architecture",id:"high-level-architecture",level:2},{value:"Repository Structure",id:"repository-structure",level:2},{value:"Core Modules",id:"core-modules",level:2},{value:"Forms System",id:"forms-system",level:3},{value:"Workflows System",id:"workflows-system",level:3},{value:"AI/Conversational System",id:"aiconversational-system",level:3},{value:"Critical Architecture Rules",id:"critical-architecture-rules",level:2},{value:"1. Client/Server Boundary",id:"1-clientserver-boundary",level:3},{value:"2. Centralized LLM Configuration",id:"2-centralized-llm-configuration",level:3},{value:"3. Batch Operations for Forms",id:"3-batch-operations-for-forms",level:3},{value:"4. MongoDB Version",id:"4-mongodb-version",level:3},{value:"API Structure",id:"api-structure",level:2},{value:"Endpoint Organization",id:"endpoint-organization",level:3},{value:"Authentication",id:"authentication",level:3},{value:"Data Models",id:"data-models",level:2},{value:"Core Entities",id:"core-entities",level:3},{value:"Field Configuration",id:"field-configuration",level:3},{value:"NPM Packages",id:"npm-packages",level:2},{value:"Current Packages",id:"current-packages",level:3},{value:"Future Packages",id:"future-packages",level:3},{value:"Package Architecture",id:"package-architecture",level:3},{value:"MCP Server (AI Integration)",id:"mcp-server-ai-integration",level:2},{value:"Available Tools",id:"available-tools",level:3},{value:"Usage Example",id:"usage-example",level:3},{value:"Development Patterns",id:"development-patterns",level:2},{value:"Adding a New Field Type",id:"adding-a-new-field-type",level:3},{value:"Adding a New Workflow Node",id:"adding-a-new-workflow-node",level:3},{value:"Adding a New API Endpoint",id:"adding-a-new-api-endpoint",level:3},{value:"Environment Variables",id:"environment-variables",level:2},{value:"Required",id:"required",level:3},{value:"AI Providers (at least one required)",id:"ai-providers-at-least-one-required",level:3},{value:"Optional",id:"optional",level:3},{value:"Testing",id:"testing",level:2},{value:"Backend Tests",id:"backend-tests",level:3},{value:"E2E Tests",id:"e2e-tests",level:3},{value:"Manual QA",id:"manual-qa",level:3},{value:"Performance Considerations",id:"performance-considerations",level:2},{value:"MongoDB Indexes",id:"mongodb-indexes",level:3},{value:"Caching",id:"caching",level:3},{value:"Bundle Size",id:"bundle-size",level:3},{value:"Security",id:"security",level:2},{value:"Data Protection",id:"data-protection",level:3},{value:"Authentication",id:"authentication-1",level:3},{value:"Input Validation",id:"input-validation",level:3},{value:"Next Steps",id:"next-steps",level:2}];function c(e){const n={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"architecture-overview",children:"Architecture Overview"})}),"\n",(0,t.jsx)(n.h2,{id:"technical-overview-for-engineers",children:"Technical Overview for Engineers"}),"\n",(0,t.jsx)(n.p,{children:"This document provides a technical overview of NetPad's architecture, key patterns, and where things live in the codebase."}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"tech-stack",children:"Tech Stack"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Layer"}),(0,t.jsx)(n.th,{children:"Technology"}),(0,t.jsx)(n.th,{children:"Notes"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"Framework"})}),(0,t.jsx)(n.td,{children:"Next.js 14+ (App Router)"}),(0,t.jsx)(n.td,{children:"Required"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"UI Library"})}),(0,t.jsx)(n.td,{children:"React 18+"}),(0,t.jsx)(n.td,{children:"Required"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"Component Library"})}),(0,t.jsx)(n.td,{children:"Material-UI (MUI) 5"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"Prefer over Tailwind"})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"Language"})}),(0,t.jsx)(n.td,{children:"TypeScript"}),(0,t.jsx)(n.td,{children:"Strict typing required"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"Database"})}),(0,t.jsx)(n.td,{children:"MongoDB Atlas"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"Only supported database"})})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"DB Driver"})}),(0,t.jsx)(n.td,{children:"MongoDB Driver 6.5+"}),(0,t.jsx)(n.td,{children:"Minimum version"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"Vector Search"})}),(0,t.jsx)(n.td,{children:"MongoDB Atlas Vector Search"}),(0,t.jsx)(n.td,{children:"For RAG features"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"AI/LLM"})}),(0,t.jsx)(n.td,{children:"Centralized provider"}),(0,t.jsx)(n.td,{children:"Ollama \u2192 OpenAI \u2192 OpenRouter"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"Workflow Editor"})}),(0,t.jsx)(n.td,{children:"ReactFlow"}),(0,t.jsx)(n.td,{children:"Visual DAG editor"})]})]})]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"high-level-architecture",children:"High-Level Architecture"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                           NetPad Platform                                \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                                          \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502\n\u2502  \u2502    Forms      \u2502  \u2502   Workflows   \u2502  \u2502 Data Mgmt     \u2502  \u2502    AI    \u2502 \u2502\n\u2502  \u2502               \u2502  \u2502               \u2502  \u2502               \u2502  \u2502          \u2502 \u2502\n\u2502  \u2502 \u2022 Builder     \u2502  \u2502 \u2022 Visual      \u2502  \u2502 \u2022 Browser     \u2502  \u2502 \u2022 Conv.  \u2502 \u2502\n\u2502  \u2502 \u2022 WYSIWYG     \u2502  \u2502   Editor      \u2502  \u2502 \u2022 Connection  \u2502  \u2502   Forms  \u2502 \u2502\n\u2502  \u2502 \u2022 30+ Fields  \u2502  \u2502 \u2022 25+ Nodes   \u2502  \u2502   Vault       \u2502  \u2502 \u2022 15+    \u2502 \u2502\n\u2502  \u2502 \u2022 Converstnl  \u2502  \u2502 \u2022 Triggers    \u2502  \u2502 \u2022 Import/     \u2502  \u2502   Agents \u2502 \u2502\n\u2502  \u2502 \u2022 Analytics   \u2502  \u2502 \u2022 Execution   \u2502  \u2502   Export      \u2502  \u2502 \u2022 RAG    \u2502 \u2502\n\u2502  \u2502               \u2502  \u2502   Engine      \u2502  \u2502               \u2502  \u2502          \u2502 \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502\n\u2502          \u2502                  \u2502                  \u2502                \u2502       \u2502\n\u2502          \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518       \u2502\n\u2502                                      \u2502                                   \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\u2502\n\u2502  \u2502                    Platform Services                                 \u2502\u2502\n\u2502  \u2502  Organizations \u2502 Projects \u2502 Auth \u2502 Billing \u2502 Permissions \u2502 API      \u2502\u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\u2502\n\u2502                                      \u2502                                   \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\u2502\n\u2502  \u2502                     MongoDB Integration                              \u2502\u2502\n\u2502  \u2502              Atlas \u2022 Self-hosted \u2022 Atlas Data API                    \u2502\u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\u2502\n\u2502                                                                          \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,t.jsx)(n.h2,{id:"repository-structure",children:"Repository Structure"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"netpad-3/\n\u251c\u2500\u2500 src/                        # Main Next.js application\n\u2502   \u251c\u2500\u2500 app/                    # App Router pages and API routes\n\u2502   \u2502   \u251c\u2500\u2500 api/               # 165+ API endpoints\n\u2502   \u2502   \u251c\u2500\u2500 (dashboard)/       # Dashboard routes\n\u2502   \u2502   \u2514\u2500\u2500 (public)/          # Public routes\n\u2502   \u2502\n\u2502   \u251c\u2500\u2500 components/            # React components\n\u2502   \u2502   \u251c\u2500\u2500 FormBuilder/       # Form building UI (WYSIWYG)\n\u2502   \u2502   \u251c\u2500\u2500 WorkflowEditor/    # Workflow building UI (ReactFlow)\n\u2502   \u2502   \u251c\u2500\u2500 ConversationalForm/# AI chat interface\n\u2502   \u2502   \u251c\u2500\u2500 DataBrowser/       # Data exploration UI\n\u2502   \u2502   \u2514\u2500\u2500 Navigation/        # Application-centric nav\n\u2502   \u2502\n\u2502   \u251c\u2500\u2500 lib/                   # Core libraries\n\u2502   \u2502   \u251c\u2500\u2500 ai/               # AI service layer, agents, RAG\n\u2502   \u2502   \u251c\u2500\u2500 platform/         # Database connections (SERVER ONLY)\n\u2502   \u2502   \u251c\u2500\u2500 conversational/   # Conversation state management\n\u2502   \u2502   \u2514\u2500\u2500 storage/          # Blob storage utilities\n\u2502   \u2502\n\u2502   \u251c\u2500\u2500 hooks/                # Client-side React hooks\n\u2502   \u2514\u2500\u2500 types/                # TypeScript definitions\n\u2502\n\u251c\u2500\u2500 packages/                  # NPM packages (@netpad/*)\n\u2502   \u251c\u2500\u2500 templates/            # @netpad/templates\n\u2502   \u251c\u2500\u2500 mcp-server/           # MCP tools for AI assistants\n\u2502   \u2514\u2500\u2500 cli/                  # CLI package (active)\n\u2502\n\u2514\u2500\u2500 docs/                     # Documentation (Docusaurus)\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"core-modules",children:"Core Modules"}),"\n",(0,t.jsx)(n.h3,{id:"forms-system",children:"Forms System"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"src/components/FormBuilder/     # Visual form builder\n\u251c\u2500\u2500 Canvas/                    # WYSIWYG editing surface\n\u251c\u2500\u2500 FieldPalette/             # Field type picker\n\u251c\u2500\u2500 FieldConfig/              # Field property editor\n\u251c\u2500\u2500 Preview/                  # Form preview modes\n\u2514\u2500\u2500 ConditionalLogic/         # Logic rule builder\n\nsrc/lib/platform/\n\u251c\u2500\u2500 forms.ts                  # Form CRUD operations\n\u251c\u2500\u2500 submissions.ts            # Submission handling\n\u2514\u2500\u2500 validation.ts             # Server-side validation\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Key Concepts:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Forms have two modes: Traditional (field-based) and Conversational (AI chat)"}),"\n",(0,t.jsx)(n.li,{children:"Conditional logic controls field visibility"}),"\n",(0,t.jsx)(n.li,{children:"Computed fields calculate from other field values"}),"\n",(0,t.jsx)(n.li,{children:"Forms are scoped to Applications"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"workflows-system",children:"Workflows System"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"src/components/WorkflowEditor/  # Visual workflow builder\n\u251c\u2500\u2500 Canvas/                    # ReactFlow canvas\n\u251c\u2500\u2500 NodePalette/              # Node type picker\n\u251c\u2500\u2500 NodeConfig/               # Node property editor\n\u2514\u2500\u2500 ExecutionViewer/          # Run history display\n\nsrc/lib/platform/\n\u251c\u2500\u2500 workflows.ts              # Workflow CRUD\n\u251c\u2500\u2500 execution.ts              # Execution engine\n\u2514\u2500\u2500 nodes/                    # Node type implementations\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Key Concepts:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Workflows are directed acyclic graphs (DAGs)"}),"\n",(0,t.jsx)(n.li,{children:"Triggered by: form submission, webhook, schedule, manual"}),"\n",(0,t.jsx)(n.li,{children:"Nodes process data and pass to next node"}),"\n",(0,t.jsx)(n.li,{children:"Execution is async with queue management"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"aiconversational-system",children:"AI/Conversational System"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"src/lib/ai/\n\u251c\u2500\u2500 aiService.ts              # Centralized LLM operations\n\u251c\u2500\u2500 providers/               # Provider implementations\n\u2502   \u251c\u2500\u2500 ollama.ts\n\u2502   \u251c\u2500\u2500 openai.ts\n\u2502   \u2514\u2500\u2500 openrouter.ts\n\u251c\u2500\u2500 agents/                  # AI agents\n\u2502   \u251c\u2500\u2500 formGenerator.ts\n\u2502   \u251c\u2500\u2500 fieldOptimizer.ts\n\u2502   \u2514\u2500\u2500 complianceChecker.ts\n\u2514\u2500\u2500 rag/                    # RAG implementation\n    \u251c\u2500\u2500 vectorStore.ts\n    \u251c\u2500\u2500 retriever.ts\n    \u2514\u2500\u2500 embedding.ts\n\nsrc/components/ConversationalForm/\n\u251c\u2500\u2500 ChatInterface/           # Chat UI\n\u251c\u2500\u2500 MessageBubble/          # Message display\n\u251c\u2500\u2500 TopicProgress/          # Progress tracker\n\u2514\u2500\u2500 DataExtraction/         # Extracted data display\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Key Concepts:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["All LLM calls go through centralized ",(0,t.jsx)(n.code,{children:"aiService"})]}),"\n",(0,t.jsx)(n.li,{children:"Provider priority: Ollama \u2192 OpenAI \u2192 OpenRouter"}),"\n",(0,t.jsx)(n.li,{children:"RAG uses MongoDB Atlas Vector Search"}),"\n",(0,t.jsx)(n.li,{children:"Conversational forms extract structured data from natural language"}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"critical-architecture-rules",children:"Critical Architecture Rules"}),"\n",(0,t.jsx)(n.h3,{id:"1-clientserver-boundary",children:"1. Client/Server Boundary"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"// \u274c WRONG - Will cause build error\n// In a client component:\nimport { db } from '@/lib/platform/db';\n\n// \u2705 CORRECT - Use API routes\n// In a client component:\nconst response = await fetch('/api/forms');\n"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Why:"})," MongoDB driver uses native modules that can't run in browser."]}),"\n",(0,t.jsx)(n.h3,{id:"2-centralized-llm-configuration",children:"2. Centralized LLM Configuration"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"// \u274c WRONG - Hardcoded model\nconst response = await openai.chat.completions.create({\n  model: 'gpt-4o-mini',  // Don't do this!\n  messages: [...]\n});\n\n// \u2705 CORRECT - Use centralized service\nimport { aiService } from '@/lib/ai/aiService';\n\nconst response = await aiService.complete({\n  messages: [...],\n  // Model selected automatically from provider config\n});\n"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Why:"})," Ensures metrics tracking, respects user's provider preference (Ollama vs OpenAI)."]}),"\n",(0,t.jsx)(n.h3,{id:"3-batch-operations-for-forms",children:"3. Batch Operations for Forms"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"// \u274c WRONG - Only adds last field\nfor (const field of fields) {\n  onAddField(field);  // Triggers dialog each time\n}\n\n// \u2705 CORRECT - Batch add\nonAddTemplate(fields);  // Adds all at once\n"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Why:"})," ",(0,t.jsx)(n.code,{children:"onAddField"})," opens a dialog, loop causes repeated dialogs."]}),"\n",(0,t.jsx)(n.h3,{id:"4-mongodb-version",children:"4. MongoDB Version"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"// Minimum required: MongoDB 6.5+\n// Required for:\n// - Atlas Vector Search\n// - Latest aggregation features\n// - Performance improvements\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"api-structure",children:"API Structure"}),"\n",(0,t.jsx)(n.h3,{id:"endpoint-organization",children:"Endpoint Organization"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"/api/\n\u251c\u2500\u2500 forms/                    # Form management (~40 endpoints)\n\u2502   \u251c\u2500\u2500 route.ts             # GET (list), POST (create)\n\u2502   \u251c\u2500\u2500 [formId]/\n\u2502   \u2502   \u251c\u2500\u2500 route.ts         # GET, PUT, DELETE\n\u2502   \u2502   \u251c\u2500\u2500 submissions/     # Submission handling\n\u2502   \u2502   \u2514\u2500\u2500 analytics/       # Form analytics\n\u2502   \u2514\u2500\u2500 templates/           # Template operations\n\u2502\n\u251c\u2500\u2500 workflows/               # Workflow management (~15 endpoints)\n\u2502   \u251c\u2500\u2500 route.ts\n\u2502   \u251c\u2500\u2500 [workflowId]/\n\u2502   \u2502   \u251c\u2500\u2500 route.ts\n\u2502   \u2502   \u251c\u2500\u2500 execute/        # Trigger execution\n\u2502   \u2502   \u2514\u2500\u2500 history/        # Execution history\n\u2502   \u2514\u2500\u2500 nodes/              # Node type definitions\n\u2502\n\u251c\u2500\u2500 organizations/          # Org management (~30 endpoints)\n\u2502   \u251c\u2500\u2500 route.ts\n\u2502   \u251c\u2500\u2500 [orgId]/\n\u2502   \u2502   \u251c\u2500\u2500 members/\n\u2502   \u2502   \u251c\u2500\u2500 vault/          # Connection vault\n\u2502   \u2502   \u2514\u2500\u2500 templates/\n\u2502   \u2514\u2500\u2500 invitations/\n\u2502\n\u251c\u2500\u2500 applications/           # Application management (~10 endpoints)\n\u2502   \u251c\u2500\u2500 route.ts\n\u2502   \u251c\u2500\u2500 [appId]/\n\u2502   \u2502   \u251c\u2500\u2500 releases/\n\u2502   \u2502   \u2514\u2500\u2500 export/\n\u2502   \u2514\u2500\u2500 import/\n\u2502\n\u251c\u2500\u2500 marketplace/            # Marketplace (~12 endpoints)\n\u2502   \u251c\u2500\u2500 route.ts\n\u2502   \u251c\u2500\u2500 [appId]/\n\u2502   \u2514\u2500\u2500 categories/\n\u2502\n\u251c\u2500\u2500 ai/                    # AI operations (~12 endpoints)\n\u2502   \u251c\u2500\u2500 generate/\n\u2502   \u251c\u2500\u2500 optimize/\n\u2502   \u2514\u2500\u2500 agents/\n\u2502\n\u251c\u2500\u2500 rag/                   # RAG operations (~5 endpoints)\n\u2502   \u251c\u2500\u2500 documents/\n\u2502   \u2514\u2500\u2500 query/\n\u2502\n\u2514\u2500\u2500 mongodb/               # Database operations (~10 endpoints)\n    \u251c\u2500\u2500 connections/\n    \u251c\u2500\u2500 collections/\n    \u2514\u2500\u2500 query/\n"})}),"\n",(0,t.jsx)(n.h3,{id:"authentication",children:"Authentication"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Session-based authentication"}),"\n",(0,t.jsx)(n.li,{children:"Organization-scoped permissions"}),"\n",(0,t.jsx)(n.li,{children:"Role-based access control (Owner, Admin, Member, Viewer)"}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"data-models",children:"Data Models"}),"\n",(0,t.jsx)(n.h3,{id:"core-entities",children:"Core Entities"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"// Organization\ninterface Organization {\n  _id: ObjectId;\n  name: string;\n  slug: string;\n  members: OrganizationMember[];\n  settings: OrganizationSettings;\n  subscription: Subscription;\n  createdAt: Date;\n}\n\n// Application (groups forms + workflows)\ninterface Application {\n  _id: ObjectId;\n  organizationId: ObjectId;\n  projectId: ObjectId;\n  name: string;\n  slug: string;\n  description?: string;\n  icon?: string;\n  color?: string;\n  forms: ObjectId[];\n  workflows: ObjectId[];\n  releases: Release[];\n  createdAt: Date;\n}\n\n// Form\ninterface Form {\n  _id: ObjectId;\n  organizationId: ObjectId;\n  applicationId?: ObjectId;\n  name: string;\n  slug: string;\n  fields: FieldConfig[];\n  settings: FormSettings;\n  conditionalLogic?: ConditionalRule[];\n  computedFields?: ComputedFieldConfig[];\n  theme?: FormTheme;\n  createdAt: Date;\n}\n\n// Workflow\ninterface Workflow {\n  _id: ObjectId;\n  organizationId: ObjectId;\n  applicationId?: ObjectId;\n  name: string;\n  nodes: WorkflowNode[];\n  edges: WorkflowEdge[];\n  trigger: TriggerConfig;\n  status: 'draft' | 'active' | 'paused';\n  createdAt: Date;\n}\n"})}),"\n",(0,t.jsx)(n.h3,{id:"field-configuration",children:"Field Configuration"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"interface FieldConfig {\n  type: FieldType;  // 30+ types\n  path: string;     // Unique identifier\n  label: string;\n  required?: boolean;\n  placeholder?: string;\n  helpText?: string;\n  defaultValue?: any;\n  width?: 'full' | 'half' | 'third' | 'quarter';\n  validation?: ValidationRules;\n  options?: SelectOption[];  // For dropdowns, radios, etc.\n  // Type-specific properties...\n}\n\ntype FieldType =\n  | 'short_text' | 'long_text' | 'email' | 'phone' | 'number' | 'currency' | 'url'\n  | 'dropdown' | 'multi_select' | 'radio' | 'checkbox' | 'toggle'\n  | 'date' | 'time' | 'datetime'\n  | 'rating' | 'slider' | 'scale' | 'ranking' | 'matrix'\n  | 'file_upload' | 'signature' | 'color'\n  | 'address'\n  | 'section' | 'divider' | 'heading' | 'html' | 'hidden'\n  | 'computed';\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"npm-packages",children:"NPM Packages"}),"\n",(0,t.jsx)(n.h3,{id:"current-packages",children:"Current Packages"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Package"}),(0,t.jsx)(n.th,{children:"Status"}),(0,t.jsx)(n.th,{children:"Description"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"@netpad/templates"})}),(0,t.jsx)(n.td,{children:"Active"}),(0,t.jsx)(n.td,{children:"100+ form/workflow templates"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"@netpad/mcp-server"})}),(0,t.jsx)(n.td,{children:"Active"}),(0,t.jsx)(n.td,{children:"MCP tools for AI assistants"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"@netpad/cli"})}),(0,t.jsx)(n.td,{children:"Active"}),(0,t.jsx)(n.td,{children:"Command-line interface"})]})]})]}),"\n",(0,t.jsx)(n.h3,{id:"future-packages",children:"Future Packages"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Package"}),(0,t.jsx)(n.th,{children:"Status"}),(0,t.jsx)(n.th,{children:"Description"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"@netpad/workflow-renderer"})}),(0,t.jsx)(n.td,{children:"Planned"}),(0,t.jsx)(n.td,{children:"Read-only workflow visualization"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"@netpad/forms"})}),(0,t.jsx)(n.td,{children:"Future"}),(0,t.jsx)(n.td,{children:"Form rendering SDK"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"@netpad/workflows"})}),(0,t.jsx)(n.td,{children:"Future"}),(0,t.jsx)(n.td,{children:"Workflow execution SDK"})]})]})]}),"\n",(0,t.jsx)(n.h3,{id:"package-architecture",children:"Package Architecture"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"packages/\n\u251c\u2500\u2500 templates/\n\u2502   \u251c\u2500\u2500 src/\n\u2502   \u2502   \u251c\u2500\u2500 forms/           # Form templates by category\n\u2502   \u2502   \u251c\u2500\u2500 workflows/       # Workflow templates\n\u2502   \u2502   \u2514\u2500\u2500 index.ts        # Exports\n\u2502   \u2514\u2500\u2500 package.json\n\u2502\n\u251c\u2500\u2500 mcp-server/\n\u2502   \u251c\u2500\u2500 src/\n\u2502   \u2502   \u251c\u2500\u2500 tools/          # MCP tool implementations\n\u2502   \u2502   \u251c\u2500\u2500 resources/      # Resource handlers\n\u2502   \u2502   \u2514\u2500\u2500 index.ts\n\u2502   \u2514\u2500\u2500 package.json\n\u2502\n\u2514\u2500\u2500 cli/\n    \u251c\u2500\u2500 src/\n    \u2502   \u251c\u2500\u2500 commands/       # CLI commands\n    \u2502   \u2514\u2500\u2500 index.ts\n    \u2514\u2500\u2500 package.json\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"mcp-server-ai-integration",children:"MCP Server (AI Integration)"}),"\n",(0,t.jsx)(n.p,{children:"The MCP server allows AI assistants (Claude, Cursor) to:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Generate forms from natural language descriptions"}),"\n",(0,t.jsx)(n.li,{children:"Create workflows programmatically"}),"\n",(0,t.jsx)(n.li,{children:"Browse and use templates"}),"\n",(0,t.jsx)(n.li,{children:"Validate configurations"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"available-tools",children:"Available Tools"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Tool"}),(0,t.jsx)(n.th,{children:"Description"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"generate_form"})}),(0,t.jsx)(n.td,{children:"Create form config from description"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"generate_field"})}),(0,t.jsx)(n.td,{children:"Create single field config"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"generate_conditional_logic"})}),(0,t.jsx)(n.td,{children:"Create conditional rules"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"generate_computed_field"})}),(0,t.jsx)(n.td,{children:"Create computed field formulas"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"browse_templates"})}),(0,t.jsx)(n.td,{children:"Search and list templates"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"get_reference"})}),(0,t.jsx)(n.td,{children:"Get field types, operators, etc."})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"validate_form_config"})}),(0,t.jsx)(n.td,{children:"Validate configuration"})]})]})]}),"\n",(0,t.jsx)(n.h3,{id:"usage-example",children:"Usage Example"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:'User: "Create a patient intake form with name, DOB, allergies, and current medications"\n\nAI (via MCP): Calls generate_form tool with description\n\u2192 Returns complete FormConfig with appropriate field types\n'})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"development-patterns",children:"Development Patterns"}),"\n",(0,t.jsx)(n.h3,{id:"adding-a-new-field-type",children:"Adding a New Field Type"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["Add type to ",(0,t.jsx)(n.code,{children:"FieldType"})," union in ",(0,t.jsx)(n.code,{children:"src/types/form.ts"})]}),"\n",(0,t.jsxs)(n.li,{children:["Create renderer in ",(0,t.jsx)(n.code,{children:"src/components/FormBuilder/Fields/"})]}),"\n",(0,t.jsxs)(n.li,{children:["Add validation logic in ",(0,t.jsx)(n.code,{children:"src/lib/platform/validation.ts"})]}),"\n",(0,t.jsxs)(n.li,{children:["Add to field palette in ",(0,t.jsx)(n.code,{children:"src/components/FormBuilder/FieldPalette/"})]}),"\n",(0,t.jsx)(n.li,{children:"Update MCP server field type reference"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"adding-a-new-workflow-node",children:"Adding a New Workflow Node"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["Add type to ",(0,t.jsx)(n.code,{children:"NodeType"})," union in ",(0,t.jsx)(n.code,{children:"src/types/workflow.ts"})]}),"\n",(0,t.jsxs)(n.li,{children:["Create node component in ",(0,t.jsx)(n.code,{children:"src/components/WorkflowEditor/Nodes/"})]}),"\n",(0,t.jsxs)(n.li,{children:["Implement execution logic in ",(0,t.jsx)(n.code,{children:"src/lib/platform/nodes/"})]}),"\n",(0,t.jsx)(n.li,{children:"Add to node palette"}),"\n",(0,t.jsx)(n.li,{children:"Update MCP server node reference"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"adding-a-new-api-endpoint",children:"Adding a New API Endpoint"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["Create route file in appropriate ",(0,t.jsx)(n.code,{children:"src/app/api/"})," directory"]}),"\n",(0,t.jsx)(n.li,{children:"Use existing auth/org middleware patterns"}),"\n",(0,t.jsx)(n.li,{children:"Add TypeScript types for request/response"}),"\n",(0,t.jsx)(n.li,{children:"Document in API reference"}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"environment-variables",children:"Environment Variables"}),"\n",(0,t.jsx)(n.h3,{id:"required",children:"Required"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-env",children:"# MongoDB\nMONGODB_URI=mongodb+srv://...\nMONGODB_DATABASE=netpad\n\n# Auth\nNEXTAUTH_SECRET=...\nNEXTAUTH_URL=http://localhost:3000\n"})}),"\n",(0,t.jsx)(n.h3,{id:"ai-providers-at-least-one-required",children:"AI Providers (at least one required)"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-env",children:"# Ollama (local, highest priority)\nOLLAMA_BASE_URL=http://localhost:11434\n\n# OpenAI\nOPENAI_API_KEY=sk-...\n\n# OpenRouter (fallback)\nOPENROUTER_API_KEY=sk-or-...\n"})}),"\n",(0,t.jsx)(n.h3,{id:"optional",children:"Optional"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-env",children:"# Storage\nBLOB_STORAGE_URL=...\n\n# Email\nSMTP_HOST=...\nSMTP_PORT=...\n\n# Integrations\nSLACK_WEBHOOK_URL=...\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"testing",children:"Testing"}),"\n",(0,t.jsx)(n.h3,{id:"backend-tests",children:"Backend Tests"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# Run all backend tests\nnpm run test\n\n# Run specific test file\nnpm run test -- forms.test.ts\n\n# Current status: 25/25 tests passing\n"})}),"\n",(0,t.jsx)(n.h3,{id:"e2e-tests",children:"E2E Tests"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# Run Playwright tests\nnpm run test:e2e\n\n# 22 test cases across 7 user journeys\n"})}),"\n",(0,t.jsx)(n.h3,{id:"manual-qa",children:"Manual QA"}),"\n",(0,t.jsx)(n.p,{children:"Structured test cases exist for:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Form builder functionality"}),"\n",(0,t.jsx)(n.li,{children:"Workflow editor functionality"}),"\n",(0,t.jsx)(n.li,{children:"Conversational forms"}),"\n",(0,t.jsx)(n.li,{children:"Template operations"}),"\n",(0,t.jsx)(n.li,{children:"Application export/import"}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"performance-considerations",children:"Performance Considerations"}),"\n",(0,t.jsx)(n.h3,{id:"mongodb-indexes",children:"MongoDB Indexes"}),"\n",(0,t.jsx)(n.p,{children:"Key indexes for common queries:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"// Forms\n{ organizationId: 1 }\n{ organizationId: 1, applicationId: 1 }\n{ slug: 1 }\n\n// Submissions\n{ formId: 1, createdAt: -1 }\n\n// Workflows\n{ organizationId: 1 }\n{ trigger.type: 1 }\n"})}),"\n",(0,t.jsx)(n.h3,{id:"caching",children:"Caching"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"React Query for client-side caching"}),"\n",(0,t.jsx)(n.li,{children:"API route caching for template data"}),"\n",(0,t.jsx)(n.li,{children:"Vector embeddings cached in Atlas"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"bundle-size",children:"Bundle Size"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Tree-shaking enabled"}),"\n",(0,t.jsx)(n.li,{children:"Dynamic imports for heavy components (ReactFlow)"}),"\n",(0,t.jsx)(n.li,{children:"Route-based code splitting"}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"security",children:"Security"}),"\n",(0,t.jsx)(n.h3,{id:"data-protection",children:"Data Protection"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Connection vault uses AES-256-GCM encryption"}),"\n",(0,t.jsx)(n.li,{children:"Credentials never logged or exposed in responses"}),"\n",(0,t.jsx)(n.li,{children:"Organization-scoped data isolation"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"authentication-1",children:"Authentication"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Session-based auth with secure cookies"}),"\n",(0,t.jsx)(n.li,{children:"CSRF protection"}),"\n",(0,t.jsx)(n.li,{children:"Rate limiting on API endpoints"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"input-validation",children:"Input Validation"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Server-side validation on all inputs"}),"\n",(0,t.jsx)(n.li,{children:"MongoDB query sanitization"}),"\n",(0,t.jsx)(n.li,{children:"File upload type/size restrictions"}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["Review ",(0,t.jsx)(n.a,{href:"/docs/collaborators/getting-started",children:"Getting Started"})," for setup instructions"]}),"\n",(0,t.jsx)(n.li,{children:"Explore the codebase with this architecture in mind"}),"\n",(0,t.jsx)(n.li,{children:"Pick an area that interests you"}),"\n",(0,t.jsx)(n.li,{children:"Ask questions\u2014the codebase is large but navigable"}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.em,{children:"Architecture questions? Open a GitHub discussion."})})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}},28453:(e,n,i)=>{i.d(n,{R:()=>l,x:()=>o});var r=i(96540);const t={},s=r.createContext(t);function l(e){const n=r.useContext(s);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:l(e.components),r.createElement(s.Provider,{value:n},e.children)}}}]);