"use strict";(self.webpackChunkdocs_netpad_io=self.webpackChunkdocs_netpad_io||[]).push([[3918],{28453:(e,n,i)=>{i.d(n,{R:()=>r,x:()=>o});var l=i(96540);const s={},d=l.createContext(s);function r(e){const n=l.useContext(d);return l.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),l.createElement(d.Provider,{value:n},e.children)}},46992:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>t,contentTitle:()=>o,default:()=>h,frontMatter:()=>r,metadata:()=>l,toc:()=>c});const l=JSON.parse('{"id":"forms/form-lifecycle","title":"Form Lifecycle","description":"Configure how your form behaves in different modes: create, edit, view, and clone. Define submission behavior, delete actions, and mode-specific field rules.","source":"@site/docs/forms/form-lifecycle.md","sourceDirName":"forms","slug":"/forms/form-lifecycle","permalink":"/docs/forms/form-lifecycle","draft":false,"unlisted":false,"editUrl":"https://github.com/mrlynn/netpad-v3/tree/main/docs/docs/forms/form-lifecycle.md","tags":[],"version":"current","frontMatter":{},"sidebar":"docs","previous":{"title":"\ud83d\udcca Form Variables","permalink":"/docs/forms/form-variables"},"next":{"title":"\ud83d\udcc4 Multi-Page Forms","permalink":"/docs/forms/multi-page-forms"}}');var s=i(74848),d=i(28453);const r={},o="Form Lifecycle",t={},c=[{value:"Form Modes",id:"form-modes",level:2},{value:"Create Mode",id:"create-mode",level:3},{value:"Edit Mode",id:"edit-mode",level:3},{value:"View Mode",id:"view-mode",level:3},{value:"Clone Mode",id:"clone-mode",level:3},{value:"Submission Configuration",id:"submission-configuration",level:2},{value:"Insert",id:"insert",level:3},{value:"Update",id:"update",level:3},{value:"Upsert",id:"upsert",level:3},{value:"Custom",id:"custom",level:3},{value:"Delete Action",id:"delete-action",level:2},{value:"Enable Delete",id:"enable-delete",level:3},{value:"Confirmation Dialog",id:"confirmation-dialog",level:3},{value:"Delete Types",id:"delete-types",level:3},{value:"Field Mode Overrides",id:"field-mode-overrides",level:2},{value:"Visible In",id:"visible-in",level:3},{value:"Editable In",id:"editable-in",level:3},{value:"Required In",id:"required-in",level:3},{value:"Immutable Fields",id:"immutable-fields",level:3},{value:"Example Configuration",id:"example-configuration",level:2},{value:"User Account Form",id:"user-account-form",level:3},{value:"Mode Detection",id:"mode-detection",level:2},{value:"URL Parameters",id:"url-parameters",level:3},{value:"Document ID Presence",id:"document-id-presence",level:3},{value:"Programmatic",id:"programmatic",level:3},{value:"Submission Events",id:"submission-events",level:2},{value:"Success Actions",id:"success-actions",level:3},{value:"Error Handling",id:"error-handling",level:3},{value:"Best Practices",id:"best-practices",level:2},{value:"Use Cases",id:"use-cases",level:2},{value:"Next Steps",id:"next-steps",level:2}];function a(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,d.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"form-lifecycle",children:"Form Lifecycle"})}),"\n",(0,s.jsx)(n.p,{children:"Configure how your form behaves in different modes: create, edit, view, and clone. Define submission behavior, delete actions, and mode-specific field rules."}),"\n",(0,s.jsx)(n.h2,{id:"form-modes",children:"Form Modes"}),"\n",(0,s.jsx)(n.p,{children:"NetPad forms can operate in four different modes:"}),"\n",(0,s.jsx)(n.h3,{id:"create-mode",children:"Create Mode"}),"\n",(0,s.jsx)(n.p,{children:"For new documents:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Default values apply"}),"\n",(0,s.jsx)(n.li,{children:"All editable fields are active"}),"\n",(0,s.jsx)(n.li,{children:"Inserts a new document on submission"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"edit-mode",children:"Edit Mode"}),"\n",(0,s.jsx)(n.p,{children:"For existing documents:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Loads existing document data"}),"\n",(0,s.jsx)(n.li,{children:"Fields can be modified"}),"\n",(0,s.jsx)(n.li,{children:"Document can be deleted"}),"\n",(0,s.jsx)(n.li,{children:"Updates the document on submission"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"view-mode",children:"View Mode"}),"\n",(0,s.jsx)(n.p,{children:"Read-only display:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Shows existing document data"}),"\n",(0,s.jsx)(n.li,{children:"All fields are read-only"}),"\n",(0,s.jsx)(n.li,{children:"No submission button"}),"\n",(0,s.jsx)(n.li,{children:"Used for reviewing data"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"clone-mode",children:"Clone Mode"}),"\n",(0,s.jsx)(n.p,{children:"Copy an existing document:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Loads existing document as template"}),"\n",(0,s.jsx)(n.li,{children:"Creates a new document (new ID)"}),"\n",(0,s.jsx)(n.li,{children:"Useful for duplicating records"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"submission-configuration",children:"Submission Configuration"}),"\n",(0,s.jsx)(n.p,{children:"Each mode can have its own submission behavior. Configure what happens when the user saves:"}),"\n",(0,s.jsx)(n.h3,{id:"insert",children:"Insert"}),"\n",(0,s.jsx)(n.p,{children:"Creates a new document in the collection."}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Used in: Create mode, Clone mode"}),"\n",(0,s.jsxs)(n.li,{children:["Generates new ",(0,s.jsx)(n.code,{children:"_id"})]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"update",children:"Update"}),"\n",(0,s.jsx)(n.p,{children:"Modifies an existing document."}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Used in: Edit mode"}),"\n",(0,s.jsxs)(n.li,{children:["Requires document ",(0,s.jsx)(n.code,{children:"_id"})]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"upsert",children:"Upsert"}),"\n",(0,s.jsx)(n.p,{children:"Creates or updates based on ID."}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Creates if document doesn't exist"}),"\n",(0,s.jsx)(n.li,{children:"Updates if document exists"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"custom",children:"Custom"}),"\n",(0,s.jsx)(n.p,{children:"Calls a webhook for custom handling."}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Full control over data processing"}),"\n",(0,s.jsx)(n.li,{children:"Implement custom business logic"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"delete-action",children:"Delete Action"}),"\n",(0,s.jsx)(n.p,{children:"In edit mode, configure whether users can delete documents:"}),"\n",(0,s.jsx)(n.h3,{id:"enable-delete",children:"Enable Delete"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Show delete button in edit mode"}),"\n",(0,s.jsx)(n.li,{children:"Requires confirmation"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"confirmation-dialog",children:"Confirmation Dialog"}),"\n",(0,s.jsx)(n.p,{children:"Customize the confirmation:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:'Title: "Confirm Delete"'}),"\n",(0,s.jsx)(n.li,{children:'Message: "Are you sure you want to delete this record?"'}),"\n",(0,s.jsx)(n.li,{children:"Confirm button text"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"delete-types",children:"Delete Types"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Hard Delete"})," - Permanently removes document"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Soft Delete"})," - Marks as deleted but retains data"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"field-mode-overrides",children:"Field Mode Overrides"}),"\n",(0,s.jsx)(n.p,{children:"Control field behavior per mode:"}),"\n",(0,s.jsx)(n.h3,{id:"visible-in",children:"Visible In"}),"\n",(0,s.jsx)(n.p,{children:"Specify which modes show the field:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Create, Edit, View, Clone"}),"\n",(0,s.jsx)(n.li,{children:"Field hidden in unchecked modes"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"editable-in",children:"Editable In"}),"\n",(0,s.jsx)(n.p,{children:"Specify which modes allow editing:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Create, Edit, Clone"}),"\n",(0,s.jsx)(n.li,{children:"View mode is always read-only"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"required-in",children:"Required In"}),"\n",(0,s.jsx)(n.p,{children:"Specify which modes require the field:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"May be required in Create but optional in Edit"}),"\n",(0,s.jsx)(n.li,{children:"Validation applies per mode"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"immutable-fields",children:"Immutable Fields"}),"\n",(0,s.jsx)(n.p,{children:"Fields that cannot be changed after creation:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Editable only in Create mode"}),"\n",(0,s.jsx)(n.li,{children:"Read-only in Edit mode"}),"\n",(0,s.jsx)(n.li,{children:"Examples: Account type, Creation date"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"example-configuration",children:"Example Configuration"}),"\n",(0,s.jsx)(n.h3,{id:"user-account-form",children:"User Account Form"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Email Field:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Visible in: All modes"}),"\n",(0,s.jsx)(n.li,{children:"Editable in: Create only (immutable)"}),"\n",(0,s.jsx)(n.li,{children:"Required in: Create, Edit"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Created At Field:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Visible in: View, Edit"}),"\n",(0,s.jsx)(n.li,{children:"Editable in: Never (auto-generated)"}),"\n",(0,s.jsx)(n.li,{children:"Default: Current timestamp"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Account Type Field:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Visible in: All modes"}),"\n",(0,s.jsx)(n.li,{children:"Editable in: Create only"}),"\n",(0,s.jsx)(n.li,{children:"Required in: Create"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Profile Picture Field:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Visible in: All modes"}),"\n",(0,s.jsx)(n.li,{children:"Editable in: Create, Edit"}),"\n",(0,s.jsx)(n.li,{children:"Required in: None"}),"\n"]}),"\n",(0,s.jsx)(n.admonition,{type:"tip",children:(0,s.jsx)(n.p,{children:"Use lifecycle configuration to build complete CRUD workflows without writing code. Forms become workflow nodes, not just UI."})}),"\n",(0,s.jsx)(n.h2,{id:"mode-detection",children:"Mode Detection"}),"\n",(0,s.jsx)(n.p,{children:"Forms detect their mode from:"}),"\n",(0,s.jsx)(n.h3,{id:"url-parameters",children:"URL Parameters"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"/form/123?mode=edit\n/form/123?mode=view\n/form?mode=create\n"})}),"\n",(0,s.jsx)(n.h3,{id:"document-id-presence",children:"Document ID Presence"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"No ID: Create mode"}),"\n",(0,s.jsx)(n.li,{children:"ID present: Edit mode (default)"}),"\n",(0,s.jsx)(n.li,{children:"ID + clone parameter: Clone mode"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"programmatic",children:"Programmatic"}),"\n",(0,s.jsx)(n.p,{children:"Set mode via API or embedding:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-javascript",children:"NetPadForm.render({\n  formId: 'abc123',\n  mode: 'edit',\n  documentId: 'doc456'\n});\n"})}),"\n",(0,s.jsx)(n.h2,{id:"submission-events",children:"Submission Events"}),"\n",(0,s.jsx)(n.p,{children:"Configure what happens after submission:"}),"\n",(0,s.jsx)(n.h3,{id:"success-actions",children:"Success Actions"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Show success message"}),"\n",(0,s.jsx)(n.li,{children:"Redirect to URL"}),"\n",(0,s.jsx)(n.li,{children:"Close modal/dialog"}),"\n",(0,s.jsx)(n.li,{children:"Trigger webhook"}),"\n",(0,s.jsx)(n.li,{children:"Send email notification"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"error-handling",children:"Error Handling"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Display error message"}),"\n",(0,s.jsx)(n.li,{children:"Highlight invalid fields"}),"\n",(0,s.jsx)(n.li,{children:"Log to console"}),"\n",(0,s.jsx)(n.li,{children:"Trigger error webhook"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Define clear modes"})," - Know when each mode is used"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Protect immutable fields"})," - Prevent changes to critical data"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Confirm deletes"})," - Always ask before deleting"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Handle all modes"})," - Test form in every mode"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Consider soft delete"})," - Preserve data for audit trails"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"use-cases",children:"Use Cases"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"CRM Records"})," - Create, view, edit customer data"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Order Management"})," - Create orders, edit until shipped"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Content Management"})," - Draft, publish, archive workflow"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"User Profiles"})," - Create account, edit profile later"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Inventory"})," - Add items, update quantities"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"/docs/forms/form-builder",children:"Form Builder"})," - Build your form"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"/docs/forms/field-configuration",children:"Field Configuration"})," - Configure fields"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"/docs/forms/publishing",children:"Form Publishing"})," - Publish your form"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,d.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(a,{...e})}):a(e)}}}]);