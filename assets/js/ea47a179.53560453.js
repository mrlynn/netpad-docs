"use strict";(self.webpackChunkdocs_netpad_io=self.webpackChunkdocs_netpad_io||[]).push([[4824],{28453:(e,s,n)=>{n.d(s,{R:()=>a,x:()=>t});var i=n(96540);const r={},o=i.createContext(r);function a(e){const s=i.useContext(o);return i.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function t(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),i.createElement(o.Provider,{value:s},e.children)}},54415:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>d,contentTitle:()=>t,default:()=>m,frontMatter:()=>a,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"api/submissions","title":"Submissions API","description":"API endpoints for managing form submissions.","source":"@site/docs/api/submissions.md","sourceDirName":"api","slug":"/api/submissions","permalink":"/docs/api/submissions","draft":false,"unlisted":false,"editUrl":"https://github.com/mrlynn/netpad-v3/tree/main/docs/docs/api/submissions.md","tags":[],"version":"current","frontMatter":{},"sidebar":"docs","previous":{"title":"\ud83d\udcdd Forms","permalink":"/docs/api/forms"},"next":{"title":"\ud83e\ude9d Webhooks","permalink":"/docs/api/webhooks"}}');var r=n(74848),o=n(28453);const a={},t="Submissions API",d={},l=[{value:"List Submissions",id:"list-submissions",level:2},{value:"Get Submission",id:"get-submission",level:2},{value:"Create Submission",id:"create-submission",level:2},{value:"Delete Submission",id:"delete-submission",level:2},{value:"Filter by Date Range",id:"filter-by-date-range",level:2},{value:"Code Examples",id:"code-examples",level:2},{value:"JavaScript/Node.js",id:"javascriptnodejs",level:3},{value:"Python",id:"python",level:3},{value:"Related",id:"related",level:2}];function c(e){const s={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.header,{children:(0,r.jsx)(s.h1,{id:"submissions-api",children:"Submissions API"})}),"\n",(0,r.jsx)(s.p,{children:"API endpoints for managing form submissions."}),"\n",(0,r.jsx)(s.h2,{id:"list-submissions",children:"List Submissions"}),"\n",(0,r.jsx)(s.p,{children:"Retrieve all submissions for a form."}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-http",children:"GET /api/v1/forms/:formId/submissions\n"})}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Required Permission:"})," ",(0,r.jsx)(s.code,{children:"submissions:read"})]}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"Query Parameters:"})}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Parameter"}),(0,r.jsx)(s.th,{children:"Type"}),(0,r.jsx)(s.th,{children:"Default"}),(0,r.jsx)(s.th,{children:"Description"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"page"})}),(0,r.jsx)(s.td,{children:"number"}),(0,r.jsx)(s.td,{children:"1"}),(0,r.jsx)(s.td,{children:"Page number"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"pageSize"})}),(0,r.jsx)(s.td,{children:"number"}),(0,r.jsx)(s.td,{children:"20"}),(0,r.jsx)(s.td,{children:"Items per page (max 100)"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"startDate"})}),(0,r.jsx)(s.td,{children:"ISO date"}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:"Filter submissions after this date"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"endDate"})}),(0,r.jsx)(s.td,{children:"ISO date"}),(0,r.jsx)(s.td,{children:"-"}),(0,r.jsx)(s.td,{children:"Filter submissions before this date"})]})]})]}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"Example Request:"})}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:'curl -X GET "https://your-domain.com/api/v1/forms/contact-form/submissions?page=1&pageSize=50" \\\n  -H "Authorization: Bearer np_live_your_api_key"\n'})}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"Example Response:"})}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-json",children:'{\n  "success": true,\n  "data": [\n    {\n      "id": "sub_xyz789",\n      "formId": "form_abc123",\n      "data": {\n        "name": "John Doe",\n        "email": "john@example.com",\n        "message": "Hello!"\n      },\n      "metadata": {\n        "submittedAt": "2024-01-20T14:30:00.000Z",\n        "ipAddress": "192.168.1.1",\n        "userAgent": "Mozilla/5.0...",\n        "referrer": "https://example.com"\n      }\n    }\n  ],\n  "pagination": {\n    "total": 42,\n    "page": 1,\n    "pageSize": 50,\n    "totalPages": 1,\n    "hasMore": false\n  },\n  "requestId": "req_abc123"\n}\n'})}),"\n",(0,r.jsx)(s.h2,{id:"get-submission",children:"Get Submission"}),"\n",(0,r.jsx)(s.p,{children:"Retrieve a single submission."}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-http",children:"GET /api/v1/forms/:formId/submissions/:submissionId\n"})}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Required Permission:"})," ",(0,r.jsx)(s.code,{children:"submissions:read"})]}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"Example Request:"})}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:'curl -X GET "https://your-domain.com/api/v1/forms/contact-form/submissions/sub_xyz789" \\\n  -H "Authorization: Bearer np_live_your_api_key"\n'})}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"Example Response:"})}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-json",children:'{\n  "success": true,\n  "data": {\n    "id": "sub_xyz789",\n    "formId": "form_abc123",\n    "data": {\n      "name": "John Doe",\n      "email": "john@example.com",\n      "message": "Hello!"\n    },\n    "metadata": {\n      "submittedAt": "2024-01-20T14:30:00.000Z",\n      "ipAddress": "192.168.1.1",\n      "userAgent": "Mozilla/5.0...",\n      "referrer": "https://example.com"\n    }\n  },\n  "requestId": "req_abc123"\n}\n'})}),"\n",(0,r.jsx)(s.h2,{id:"create-submission",children:"Create Submission"}),"\n",(0,r.jsx)(s.p,{children:"Submit data to a form programmatically."}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-http",children:"POST /api/v1/forms/:formId/submissions\n"})}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Required Permission:"})," ",(0,r.jsx)(s.code,{children:"submissions:write"})]}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"Request Body:"})}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-json",children:'{\n  "data": {\n    "name": "Jane Smith",\n    "email": "jane@example.com",\n    "message": "I have a question about your product."\n  },\n  "metadata": {\n    "referrer": "https://myapp.com/contact",\n    "customFields": {\n      "source": "mobile-app",\n      "version": "2.1.0"\n    }\n  }\n}\n'})}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"Example Request:"})}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:'curl -X POST "https://your-domain.com/api/v1/forms/contact-form/submissions" \\\n  -H "Authorization: Bearer np_live_your_api_key" \\\n  -H "Content-Type: application/json" \\\n  -d \'{\n    "data": {\n      "name": "Jane Smith",\n      "email": "jane@example.com",\n      "message": "Hello from the API!"\n    }\n  }\'\n'})}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"Example Response:"})}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-json",children:'{\n  "success": true,\n  "data": {\n    "submissionId": "sub_new123",\n    "formId": "form_abc123",\n    "submittedAt": "2024-01-20T16:45:00.000Z"\n  },\n  "requestId": "req_abc123"\n}\n'})}),"\n",(0,r.jsx)(s.admonition,{type:"note",children:(0,r.jsxs)(s.p,{children:["The form must be published to accept submissions with a ",(0,r.jsx)(s.code,{children:"live"})," API key. Use a ",(0,r.jsx)(s.code,{children:"test"})," API key to submit to unpublished forms during development."]})}),"\n",(0,r.jsx)(s.h2,{id:"delete-submission",children:"Delete Submission"}),"\n",(0,r.jsx)(s.p,{children:"Delete a submission."}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-http",children:"DELETE /api/v1/forms/:formId/submissions/:submissionId\n"})}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.strong,{children:"Required Permission:"})," ",(0,r.jsx)(s.code,{children:"submissions:delete"})]}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"Example Request:"})}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:'curl -X DELETE "https://your-domain.com/api/v1/forms/contact-form/submissions/sub_xyz789" \\\n  -H "Authorization: Bearer np_live_your_api_key"\n'})}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"Example Response:"})}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-json",children:'{\n  "success": true,\n  "data": {\n    "deleted": true,\n    "submissionId": "sub_xyz789"\n  },\n  "requestId": "req_abc123"\n}\n'})}),"\n",(0,r.jsx)(s.h2,{id:"filter-by-date-range",children:"Filter by Date Range"}),"\n",(0,r.jsxs)(s.p,{children:["You can filter submissions by date range using the ",(0,r.jsx)(s.code,{children:"startDate"})," and ",(0,r.jsx)(s.code,{children:"endDate"})," parameters."]}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"Example Request:"})}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:'curl -X GET "https://your-domain.com/api/v1/forms/contact-form/submissions?startDate=2024-01-01&endDate=2024-01-31" \\\n  -H "Authorization: Bearer np_live_your_api_key"\n'})}),"\n",(0,r.jsx)(s.h2,{id:"code-examples",children:"Code Examples"}),"\n",(0,r.jsx)(s.h3,{id:"javascriptnodejs",children:"JavaScript/Node.js"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-javascript",children:"const API_KEY = 'np_live_your_api_key';\nconst BASE_URL = 'https://your-domain.com/api/v1';\n\n// List submissions\nasync function listSubmissions(formId) {\n  const response = await fetch(`${BASE_URL}/forms/${formId}/submissions`, {\n    headers: {\n      'Authorization': `Bearer ${API_KEY}`,\n    },\n  });\n  return response.json();\n}\n\n// Submit to a form\nasync function submitForm(formId, data) {\n  const response = await fetch(`${BASE_URL}/forms/${formId}/submissions`, {\n    method: 'POST',\n    headers: {\n      'Authorization': `Bearer ${API_KEY}`,\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify({ data }),\n  });\n  return response.json();\n}\n\n// Usage\nconst submissions = await listSubmissions('contact-form');\nconsole.log(submissions.data);\n\nconst result = await submitForm('contact-form', {\n  name: 'API User',\n  email: 'api@example.com',\n});\nconsole.log(result.data.submissionId);\n"})}),"\n",(0,r.jsx)(s.h3,{id:"python",children:"Python"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-python",children:"import requests\n\nAPI_KEY = 'np_live_your_api_key'\nBASE_URL = 'https://your-domain.com/api/v1'\n\nheaders = {\n    'Authorization': f'Bearer {API_KEY}',\n    'Content-Type': 'application/json',\n}\n\n# List submissions\nresponse = requests.get(\n    f'{BASE_URL}/forms/contact-form/submissions',\n    headers=headers\n)\nsubmissions = response.json()\nprint(submissions['data'])\n\n# Submit to a form\nsubmission_data = {\n    'data': {\n        'name': 'API User',\n        'email': 'api@example.com',\n    }\n}\nresponse = requests.post(\n    f'{BASE_URL}/forms/contact-form/submissions',\n    headers=headers,\n    json=submission_data,\n)\nresult = response.json()\nprint(result['data']['submissionId'])\n"})}),"\n",(0,r.jsx)(s.h2,{id:"related",children:"Related"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.a,{href:"/docs/api/overview",children:"API Overview"})}),"\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.a,{href:"/docs/api/forms",children:"Forms API"})}),"\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.a,{href:"/docs/api/webhooks",children:"Webhooks"})}),"\n"]})]})}function m(e={}){const{wrapper:s}={...(0,o.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}}}]);