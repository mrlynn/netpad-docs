"use strict";(self.webpackChunkdocs_netpad_io=self.webpackChunkdocs_netpad_io||[]).push([[9316],{3391:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>h,frontMatter:()=>t,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"ai/rag-knowledge-guided","title":"Knowledge-Guided Conversational Forms (RAG)","description":"Extend conversational forms with Retrieval-Augmented Generation (RAG) to ground AI responses in builder-supplied documents. The AI can answer questions using uploaded knowledge bases, guide users through complex forms, and provide accurate, traceable information.","source":"@site/docs/ai/rag-knowledge-guided.md","sourceDirName":"ai","slug":"/ai/rag-knowledge-guided","permalink":"/docs/ai/rag-knowledge-guided","draft":false,"unlisted":false,"editUrl":"https://github.com/mrlynn/netpad-v3/tree/main/docs/docs/ai/rag-knowledge-guided.md","tags":[],"version":"current","frontMatter":{},"sidebar":"docs","previous":{"title":"\ud83d\udcac Conversational Forms","permalink":"/docs/ai/conversational-forms"},"next":{"title":"\ud83d\udccb Templates","permalink":"/docs/ai/templates"}}');var r=s(4848),l=s(8453);const t={},o="Knowledge-Guided Conversational Forms (RAG)",c={},d=[{value:"What is RAG?",id:"what-is-rag",level:2},{value:"Key Features",id:"key-features",level:2},{value:"Document Upload",id:"document-upload",level:3},{value:"Semantic Search",id:"semantic-search",level:3},{value:"Source Citations",id:"source-citations",level:3},{value:"Context-Aware Answers",id:"context-aware-answers",level:3},{value:"Schema-Aware Suggestions",id:"schema-aware-suggestions",level:3},{value:"Use Cases",id:"use-cases",level:2},{value:"Compliance Forms",id:"compliance-forms",level:3},{value:"Legal Intake",id:"legal-intake",level:3},{value:"Healthcare Forms",id:"healthcare-forms",level:3},{value:"Vendor Risk Assessment",id:"vendor-risk-assessment",level:3},{value:"Complex Applications",id:"complex-applications",level:3},{value:"Document Management",id:"document-management",level:2},{value:"Uploading Documents",id:"uploading-documents",level:3},{value:"Document Metadata",id:"document-metadata",level:3},{value:"Managing Documents",id:"managing-documents",level:3},{value:"RAG Configuration",id:"rag-configuration",level:2},{value:"Enabling RAG",id:"enabling-rag",level:3},{value:"Retrieval Configuration",id:"retrieval-configuration",level:3},{value:"Document Selection",id:"document-selection",level:3},{value:"How RAG Works",id:"how-rag-works",level:2},{value:"1. Document Processing",id:"1-document-processing",level:3},{value:"2. Query Processing",id:"2-query-processing",level:3},{value:"3. Response Format",id:"3-response-format",level:3},{value:"Source Citation Format",id:"source-citation-format",level:2},{value:"Inline References",id:"inline-references",level:3},{value:"Citation Details",id:"citation-details",level:3},{value:"Requirements",id:"requirements",level:2},{value:"Cloud Deployment (netpad.io)",id:"cloud-deployment-netpadio",level:3},{value:"Self-Hosted Deployment",id:"self-hosted-deployment",level:3},{value:"API Keys",id:"api-keys",level:3},{value:"Document Storage",id:"document-storage",level:3},{value:"Feature Gates",id:"feature-gates",level:2},{value:"Cloud Mode (netpad.io)",id:"cloud-mode-netpadio",level:3},{value:"Self-Hosted Mode",id:"self-hosted-mode",level:3},{value:"Checking Requirements",id:"checking-requirements",level:3},{value:"Best Practices",id:"best-practices",level:2},{value:"Document Preparation",id:"document-preparation",level:3},{value:"Retrieval Configuration",id:"retrieval-configuration-1",level:3},{value:"Form Design",id:"form-design",level:3},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"Low-Quality Responses",id:"low-quality-responses",level:3},{value:"Missing Citations",id:"missing-citations",level:3},{value:"Slow Responses",id:"slow-responses",level:3},{value:"Next Steps",id:"next-steps",level:2}];function a(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"knowledge-guided-conversational-forms-rag",children:"Knowledge-Guided Conversational Forms (RAG)"})}),"\n",(0,r.jsx)(n.p,{children:"Extend conversational forms with Retrieval-Augmented Generation (RAG) to ground AI responses in builder-supplied documents. The AI can answer questions using uploaded knowledge bases, guide users through complex forms, and provide accurate, traceable information."}),"\n",(0,r.jsx)(n.h2,{id:"what-is-rag",children:"What is RAG?"}),"\n",(0,r.jsx)(n.p,{children:"RAG (Retrieval-Augmented Generation) enhances conversational forms by allowing the AI to reference uploaded documents when answering questions. Instead of relying solely on its training data, the AI uses your specific documents to provide accurate, context-aware answers."}),"\n",(0,r.jsx)(n.h2,{id:"key-features",children:"Key Features"}),"\n",(0,r.jsx)(n.h3,{id:"document-upload",children:"Document Upload"}),"\n",(0,r.jsx)(n.p,{children:"Attach knowledge base documents to your conversational forms:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Supported Formats"}),": PDF, DOCX, TXT"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"File Size Limit"}),": Up to 5MB per document"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Multiple Documents"}),": Upload multiple documents per form"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Automatic Processing"}),": Text extraction and intelligent chunking"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Secure Storage"}),": Documents stored in Vercel Blob with private access"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"semantic-search",children:"Semantic Search"}),"\n",(0,r.jsx)(n.p,{children:"Vector search across document content:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"MongoDB Atlas Vector Search"}),": Efficient semantic document retrieval"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"OpenAI Embeddings"}),": Uses text-embedding-3-small for embeddings"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Intelligent Chunking"}),": Sentence-aware chunking preserves context"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Relevance Scoring"}),": Results ranked by semantic similarity"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"source-citations",children:"Source Citations"}),"\n",(0,r.jsx)(n.p,{children:"Every AI response includes traceable source references:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Inline References"}),": ",(0,r.jsx)(n.code,{children:"[1]"}),", ",(0,r.jsx)(n.code,{children:"[2]"})," markers in AI responses"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Expandable Citations"}),": Click to see full source details"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Document Links"}),": Direct links to source documents"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Confidence Scores"}),": Per-citation confidence levels"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Page References"}),": Specific page numbers when available"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"context-aware-answers",children:"Context-Aware Answers"}),"\n",(0,r.jsx)(n.p,{children:"AI uses document content to answer user questions accurately:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Policy References"}),": Quote specific policies and guidelines"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Procedural Guidance"}),": Step-by-step instructions from documents"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Compliance Information"}),": Regulatory requirements from uploaded docs"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Form Completion Help"}),": Guide users using document knowledge"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"schema-aware-suggestions",children:"Schema-Aware Suggestions"}),"\n",(0,r.jsx)(n.p,{children:"All AI suggestions respect form validation rules:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Field Types"}),": Suggestions match expected field types"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Validation Rules"}),": Respects min/max, patterns, required fields"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Format Compliance"}),": Ensures data format matches requirements"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"use-cases",children:"Use Cases"}),"\n",(0,r.jsx)(n.h3,{id:"compliance-forms",children:"Compliance Forms"}),"\n",(0,r.jsx)(n.p,{children:"Reference policy documents to answer questions:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Travel Policy"}),": Answer reimbursement questions using policy docs"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"HR Policies"}),": Guide employees through policy-related forms"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Regulatory Forms"}),": Reference compliance documents during intake"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Example"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"User: What's the maximum reimbursement amount?\n\nAI: According to the travel policy document [1], the maximum \n    reimbursement amount is $500 per day for domestic travel \n    and $750 per day for international travel. This includes \n    accommodation, meals, and transportation.\n\n    [1] Travel Policy Document, Section 4.2, Page 12\n"})}),"\n",(0,r.jsx)(n.h3,{id:"legal-intake",children:"Legal Intake"}),"\n",(0,r.jsx)(n.p,{children:"Use contract templates to guide data collection:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Contract Review"}),": Reference contract terms during intake"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Legal Forms"}),": Guide clients using legal documentation"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Terms & Conditions"}),": Answer questions about terms"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"healthcare-forms",children:"Healthcare Forms"}),"\n",(0,r.jsx)(n.p,{children:"Reference medical guidelines during patient intake:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Clinical Guidelines"}),": Reference treatment protocols"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Medication Information"}),": Use drug reference documents"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Procedure Guides"}),": Guide through medical procedures"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"vendor-risk-assessment",children:"Vendor Risk Assessment"}),"\n",(0,r.jsx)(n.p,{children:"Use vendor policies to complete assessments:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Security Policies"}),": Reference vendor security documentation"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Compliance Requirements"}),": Use compliance checklists"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Risk Evaluation"}),": Guide through risk assessment using policies"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"complex-applications",children:"Complex Applications"}),"\n",(0,r.jsx)(n.p,{children:"Guide users through multi-step processes with documentation:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Grant Applications"}),": Reference grant guidelines"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Research Proposals"}),": Use research protocol documents"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Regulatory Submissions"}),": Guide through regulatory requirements"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"document-management",children:"Document Management"}),"\n",(0,r.jsx)(n.h3,{id:"uploading-documents",children:"Uploading Documents"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Navigate to Form Settings"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Open your conversational form"}),"\n",(0,r.jsxs)(n.li,{children:["Go to ",(0,r.jsx)(n.strong,{children:"Settings"})," > ",(0,r.jsx)(n.strong,{children:"Knowledge Base"})]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Upload Documents"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Click ",(0,r.jsx)(n.strong,{children:'"Upload Document"'})]}),"\n",(0,r.jsx)(n.li,{children:"Select PDF, DOCX, or TXT file"}),"\n",(0,r.jsx)(n.li,{children:"Add metadata (title, description, tags)"}),"\n",(0,r.jsxs)(n.li,{children:["Click ",(0,r.jsx)(n.strong,{children:'"Upload"'})]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Processing"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Document is automatically processed"}),"\n",(0,r.jsx)(n.li,{children:"Text is extracted and chunked"}),"\n",(0,r.jsx)(n.li,{children:"Embeddings are generated"}),"\n",(0,r.jsx)(n.li,{children:"Document is indexed for search"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"document-metadata",children:"Document Metadata"}),"\n",(0,r.jsx)(n.p,{children:"Each document includes:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Title"}),": Document name"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Description"}),": What the document contains"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Source Type"}),": Policy, Guide, Template, etc."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Tags"}),": Searchable tags"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Upload Date"}),": When uploaded"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"File Size"}),": Document size"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Page Count"}),": Number of pages (for PDFs)"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"managing-documents",children:"Managing Documents"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"View All"}),": See all uploaded documents"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Select for Form"}),": Choose which documents to use"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Edit Metadata"}),": Update title, description, tags"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Delete"}),": Remove documents (requires confirmation)"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"rag-configuration",children:"RAG Configuration"}),"\n",(0,r.jsx)(n.h3,{id:"enabling-rag",children:"Enabling RAG"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Upload Documents"}),": Add knowledge base documents"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Enable RAG"}),": Toggle RAG in form settings"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Select Documents"}),": Choose which documents to use"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Configure Retrieval"}),": Set retrieval parameters"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"retrieval-configuration",children:"Retrieval Configuration"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:'{\n  enabled: true,\n  documents: ["doc-id-1", "doc-id-2"],  // Document IDs to use\n  retrievalConfig: {\n    maxChunks: 5,        // Maximum chunks to retrieve (default: 5)\n    minScore: 0.7,      // Minimum similarity score (default: 0.7)\n    retrievalThreshold: 0.5  // Threshold for using retrieved context (default: 0.5)\n  }\n}\n'})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Configuration Options"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"maxChunks"}),": Maximum number of document chunks to retrieve per query"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"minScore"}),": Minimum similarity score for chunks to be included"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"retrievalThreshold"}),": Confidence threshold for using retrieved context"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"document-selection",children:"Document Selection"}),"\n",(0,r.jsx)(n.p,{children:"Choose which documents to use for each form:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"All Documents"}),": Use all uploaded documents"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Selected Documents"}),": Choose specific documents"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Tag-Based"}),": Select documents by tags"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Category-Based"}),": Select by document category"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"how-rag-works",children:"How RAG Works"}),"\n",(0,r.jsx)(n.h3,{id:"1-document-processing",children:"1. Document Processing"}),"\n",(0,r.jsx)(n.p,{children:"When you upload a document:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Text Extraction"}),": Extract text from PDF, DOCX, or TXT"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Chunking"}),": Split into sentence-aware chunks"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Embedding Generation"}),": Create embeddings using OpenAI"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Vector Storage"}),": Store in MongoDB Atlas Vector Search"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Indexing"}),": Index for fast retrieval"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"2-query-processing",children:"2. Query Processing"}),"\n",(0,r.jsx)(n.p,{children:"When a user asks a question:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Query Embedding"}),": Generate embedding for user question"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Vector Search"}),": Search document chunks using MongoDB Atlas Vector Search"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Relevance Scoring"}),": Rank chunks by semantic similarity"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Context Selection"}),": Select top chunks above threshold"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Prompt Enhancement"}),": Inject context into AI prompt"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Response Generation"}),": AI generates answer using context"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Citation Generation"}),": Add source citations to response"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"3-response-format",children:"3. Response Format"}),"\n",(0,r.jsx)(n.p,{children:"AI responses include:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Answer"}),": Context-aware response using document content"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Citations"}),": Inline references ",(0,r.jsx)(n.code,{children:"[1]"}),", ",(0,r.jsx)(n.code,{children:"[2]"}),", etc."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Source Details"}),": Expandable citation section with:","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Document title"}),"\n",(0,r.jsx)(n.li,{children:"Section/page reference"}),"\n",(0,r.jsx)(n.li,{children:"Confidence score"}),"\n",(0,r.jsx)(n.li,{children:"Direct link to document"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"source-citation-format",children:"Source Citation Format"}),"\n",(0,r.jsx)(n.h3,{id:"inline-references",children:"Inline References"}),"\n",(0,r.jsx)(n.p,{children:"Citations appear inline in AI responses:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"According to the travel policy [1], the maximum reimbursement \nis $500 per day. For international travel [2], the limit is \n$750 per day.\n\n[1] Travel Policy Document, Section 4.2, Page 12\n[2] Travel Policy Document, Section 4.3, Page 13\n"})}),"\n",(0,r.jsx)(n.h3,{id:"citation-details",children:"Citation Details"}),"\n",(0,r.jsx)(n.p,{children:"Click citations to see full details:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Document Title"}),": Name of source document"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Section"}),": Section or chapter reference"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Page Number"}),": Specific page (for PDFs)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Confidence Score"}),": How relevant this source is (0-1)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Document Link"}),": Direct link to view document"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Chunk Preview"}),": Preview of relevant text chunk"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"requirements",children:"Requirements"}),"\n",(0,r.jsxs)(n.p,{children:["RAG features have different requirements depending on your deployment mode. See ",(0,r.jsx)(n.a,{href:"/docs/deployment-modes",children:"Deployment Modes"})," for a complete comparison of Cloud vs Self-Hosted deployment."]}),"\n",(0,r.jsx)(n.h3,{id:"cloud-deployment-netpadio",children:"Cloud Deployment (netpad.io)"}),"\n",(0,r.jsx)(n.p,{children:"For the hosted NetPad platform:"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Requirement"}),(0,r.jsx)(n.th,{children:"Details"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Subscription"})}),(0,r.jsx)(n.td,{children:"Team or Enterprise plan"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Infrastructure"})}),(0,r.jsx)(n.td,{children:"MongoDB Atlas M10+ cluster"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Vector Search"})}),(0,r.jsx)(n.td,{children:"Atlas Vector Search (included with M10+)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Embeddings"})}),(0,r.jsx)(n.td,{children:"OpenAI API key required"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"self-hosted-deployment",children:"Self-Hosted Deployment"}),"\n",(0,r.jsx)(n.p,{children:"For self-hosted NetPad instances:"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Requirement"}),(0,r.jsx)(n.th,{children:"Details"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Subscription"})}),(0,r.jsx)(n.td,{children:"Any tier (Free, Pro, Team, Enterprise)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Infrastructure"})}),(0,r.jsx)(n.td,{children:"MongoDB Atlas Local (Docker)"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Vector Search"})}),(0,r.jsx)(n.td,{children:"Included with Atlas Local"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.strong,{children:"Embeddings"})}),(0,r.jsx)(n.td,{children:"OpenAI API key required"})]})]})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Self-Hosted RAG Setup"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Option 1: Atlas CLI\natlas deployments setup local --type local\n\n# Option 2: Docker\ndocker run -d -p 27017:27017 mongodb/mongodb-atlas-local\n"})}),"\n",(0,r.jsx)(n.p,{children:"Set the deployment mode in your environment:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"NETPAD_DEPLOYMENT_MODE=self-hosted\n"})}),"\n",(0,r.jsxs)(n.p,{children:["This enables RAG features for ",(0,r.jsx)(n.strong,{children:"all subscription tiers"})," without requiring an M10 cluster upgrade."]}),"\n",(0,r.jsx)(n.h3,{id:"api-keys",children:"API Keys"}),"\n",(0,r.jsx)(n.p,{children:"Required API keys:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"OpenAI API Key"}),": For generating embeddings (text-embedding-3-small)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"MongoDB Atlas"}),": For Vector Search (included with cluster or Atlas Local)"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"document-storage",children:"Document Storage"}),"\n",(0,r.jsx)(n.p,{children:"Documents are stored in:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Vercel Blob"}),": Private document storage"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Access Control"}),": Only accessible to form owners"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Encryption"}),": Documents encrypted at rest"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"feature-gates",children:"Feature Gates"}),"\n",(0,r.jsx)(n.p,{children:"RAG features use a two-tier gating system that varies by deployment mode:"}),"\n",(0,r.jsx)(n.h3,{id:"cloud-mode-netpadio",children:"Cloud Mode (netpad.io)"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Subscription Tier"}),": Team or Enterprise plan required"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Infrastructure Tier"}),": M10+ MongoDB Atlas cluster required"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Both requirements must be met to use RAG features in cloud mode."}),"\n",(0,r.jsx)(n.h3,{id:"self-hosted-mode",children:"Self-Hosted Mode"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Subscription Tier"}),": Any tier (including Free)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Infrastructure Tier"}),": Atlas Local (Docker) or any MongoDB with Vector Search support"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Self-hosted mode removes subscription restrictions for RAG features."}),"\n",(0,r.jsx)(n.h3,{id:"checking-requirements",children:"Checking Requirements"}),"\n",(0,r.jsx)(n.p,{children:"The form builder will show:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Subscription Status"}),": Current subscription tier"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Cluster Status"}),": Current Atlas cluster tier (or LOCAL for Atlas Local)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Deployment Mode"}),": Cloud or Self-Hosted"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Feature Availability"}),": Whether RAG is available"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Upgrade Prompts"}),": How to enable RAG if not available"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,r.jsx)(n.h3,{id:"document-preparation",children:"Document Preparation"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Clear Structure"}),": Use well-structured documents"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Relevant Content"}),": Upload only relevant documents"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Good Metadata"}),": Add descriptive titles and descriptions"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Tagging"}),": Use tags to organize documents"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Regular Updates"}),": Keep documents current"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"retrieval-configuration-1",children:"Retrieval Configuration"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Start Default"}),": Begin with default settings"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Adjust Based on Results"}),": Tune based on response quality"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Monitor Citations"}),": Check citation relevance"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Test Queries"}),": Test with various question types"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Iterate"}),": Refine configuration over time"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"form-design",children:"Form Design"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Clear Objectives"}),": Define what documents help with"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"User Guidance"}),": Explain that AI can reference documents"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Citation Expectations"}),": Set expectations about citations"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Document Selection"}),": Choose most relevant documents"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Testing"}),": Test with real questions before publishing"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,r.jsx)(n.h3,{id:"low-quality-responses",children:"Low-Quality Responses"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Check Documents"}),": Ensure documents are relevant"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Adjust Thresholds"}),": Lower minScore or retrievalThreshold"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"More Chunks"}),": Increase maxChunks"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Better Documents"}),": Upload more specific documents"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"missing-citations",children:"Missing Citations"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Check Relevance"}),": Documents may not be relevant"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Lower Threshold"}),": Reduce minScore threshold"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"More Documents"}),": Add more related documents"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"slow-responses",children:"Slow Responses"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Reduce Chunks"}),": Lower maxChunks"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Cluster Performance"}),": Check Atlas cluster performance"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Document Size"}),": Consider splitting large documents"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/docs/ai/conversational-forms",children:"Conversational Forms"})," - Create conversational forms"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/docs/ai/templates",children:"Template Management"})," - Use templates"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/docs/ai/agents",children:"AI Agents"})," - Explore AI capabilities"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/docs/ai/configuration",children:"Configuration"})," - Configure AI settings"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>t,x:()=>o});var i=s(6540);const r={},l=i.createContext(r);function t(e){const n=i.useContext(l);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),i.createElement(l.Provider,{value:n},e.children)}}}]);