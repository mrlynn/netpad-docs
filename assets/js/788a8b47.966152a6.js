"use strict";(self.webpackChunkdocs_netpad_io=self.webpackChunkdocs_netpad_io||[]).push([[1318],{3439:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>d,default:()=>h,frontMatter:()=>t,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"deployment/vercel","title":"Deploy NetPad to Vercel","description":"Deploy Your Own NetPad Instance","source":"@site/docs/deployment/vercel.md","sourceDirName":"deployment","slug":"/deployment/vercel","permalink":"/docs/deployment/vercel","draft":false,"unlisted":false,"editUrl":"https://github.com/mrlynn/netpad-v3/tree/main/docs/docs/deployment/vercel.md","tags":[],"version":"current","frontMatter":{},"sidebar":"docs","previous":{"title":"Deployment Overview","permalink":"/docs/deployment/overview"},"next":{"title":"Self-Hosted Deployment","permalink":"/docs/deployment/self-hosted"}}');var r=s(4848),l=s(8453);const t={},d="Deploy NetPad to Vercel",o={},c=[{value:"Deploy Your Own NetPad Instance",id:"deploy-your-own-netpad-instance",level:2},{value:"Key Benefits",id:"key-benefits",level:3},{value:"Quick Start - One-Click Deploy",id:"quick-start---one-click-deploy",level:2},{value:"What happens when you click:",id:"what-happens-when-you-click",level:3},{value:"Prerequisites",id:"prerequisites",level:2},{value:"Environment Variables",id:"environment-variables",level:2},{value:"Required Variables",id:"required-variables",level:3},{value:"Recommended Variables",id:"recommended-variables",level:3},{value:"Optional Variables - Features",id:"optional-variables---features",level:3},{value:"Optional Variables - Billing",id:"optional-variables---billing",level:3},{value:"Setting Up MongoDB Atlas",id:"setting-up-mongodb-atlas",level:2},{value:"Step 1: Create a Free Cluster",id:"step-1-create-a-free-cluster",level:3},{value:"Step 2: Create a Database User",id:"step-2-create-a-database-user",level:3},{value:"Step 3: Configure Network Access",id:"step-3-configure-network-access",level:3},{value:"Step 4: Get Your Connection String",id:"step-4-get-your-connection-string",level:3},{value:"Manual Deployment Steps",id:"manual-deployment-steps",level:2},{value:"Step 1: Fork the Repository",id:"step-1-fork-the-repository",level:3},{value:"Step 2: Import to Vercel",id:"step-2-import-to-vercel",level:3},{value:"Step 3: Add Environment Variables",id:"step-3-add-environment-variables",level:3},{value:"Step 4: Deploy",id:"step-4-deploy",level:3},{value:"Step 5: Verify",id:"step-5-verify",level:3},{value:"Post-Deployment Configuration",id:"post-deployment-configuration",level:2},{value:"Setting Up OAuth Login",id:"setting-up-oauth-login",level:3},{value:"Google OAuth",id:"google-oauth",level:4},{value:"GitHub OAuth",id:"github-oauth",level:4},{value:"Setting Up Magic Link Email",id:"setting-up-magic-link-email",level:3},{value:"Setting Up AI Features",id:"setting-up-ai-features",level:3},{value:"Setting Up File Uploads",id:"setting-up-file-uploads",level:3},{value:"Custom Domain Setup",id:"custom-domain-setup",level:2},{value:"Keeping Your Instance Updated",id:"keeping-your-instance-updated",level:2},{value:"Automatic Updates (Recommended)",id:"automatic-updates-recommended",level:3},{value:"Manual Updates",id:"manual-updates",level:3},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"&quot;Database connection failed&quot;",id:"database-connection-failed",level:3},{value:"&quot;Session error&quot; or &quot;Authentication failed&quot;",id:"session-error-or-authentication-failed",level:3},{value:"&quot;Vault encryption failed&quot;",id:"vault-encryption-failed",level:3},{value:"&quot;OAuth callback failed&quot;",id:"oauth-callback-failed",level:3},{value:"Build fails",id:"build-fails",level:3},{value:"Workflows not running",id:"workflows-not-running",level:3},{value:"Architecture Overview",id:"architecture-overview",level:2},{value:"Frequently Asked Questions",id:"frequently-asked-questions",level:2},{value:"Getting Help",id:"getting-help",level:2},{value:"Next Steps",id:"next-steps",level:2}];function a(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"deploy-netpad-to-vercel",children:"Deploy NetPad to Vercel"})}),"\n",(0,r.jsx)(n.h2,{id:"deploy-your-own-netpad-instance",children:"Deploy Your Own NetPad Instance"}),"\n",(0,r.jsx)(n.p,{children:"NetPad can be self-hosted on Vercel with your own MongoDB Atlas database. This gives you complete control over your data, custom domain support, and the ability to customize your instance."}),"\n",(0,r.jsx)(n.h3,{id:"key-benefits",children:"Key Benefits"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Full data ownership and control"}),"\n",(0,r.jsx)(n.li,{children:"Custom domain support"}),"\n",(0,r.jsx)(n.li,{children:"Use your existing MongoDB Atlas cluster"}),"\n",(0,r.jsx)(n.li,{children:"Free tier available (Vercel Hobby + MongoDB M0)"}),"\n",(0,r.jsx)(n.li,{children:"Automatic SSL and CDN"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"quick-start---one-click-deploy",children:"Quick Start - One-Click Deploy"}),"\n",(0,r.jsx)(n.p,{children:"The fastest way to deploy NetPad:"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.a,{href:"https://vercel.com/new/clone?repository-url=https%3A%2F%2Fgithub.com%2Fmrlynn%2Fnetpad-v3&env=MONGODB_URI,SESSION_SECRET,VAULT_ENCRYPTION_KEY&envDescription=Required%20environment%20variables%20for%20NetPad&envLink=https%3A%2F%2Fgithub.com%2Fmrlynn%2Fnetpad-v3%2Fblob%2Fmain%2Fdocs%2FDEPLOY.md&project-name=my-netpad&repository-name=my-netpad&demo-title=NetPad&demo-description=MongoDB-connected%20forms%2C%20workflows%2C%20and%20data%20explorer&demo-url=https%3A%2F%2Fnetpad.io",children:(0,r.jsx)(n.img,{src:"https://vercel.com/button",alt:"Deploy with Vercel"})})}),"\n",(0,r.jsx)(n.h3,{id:"what-happens-when-you-click",children:"What happens when you click:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Vercel forks the NetPad repository to your GitHub account"}),"\n",(0,r.jsx)(n.li,{children:"You're prompted to configure required environment variables"}),"\n",(0,r.jsx)(n.li,{children:"Vercel builds and deploys your instance"}),"\n",(0,r.jsx)(n.li,{children:"Your NetPad instance is live in ~2-3 minutes"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,r.jsx)(n.p,{children:"Before deploying, you'll need:"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Requirement"}),(0,r.jsx)(n.th,{children:"Description"}),(0,r.jsx)(n.th,{children:"Link"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Vercel Account"}),(0,r.jsx)(n.td,{children:"Free or paid account"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.a,{href:"https://vercel.com/signup",children:"Sign up"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"GitHub Account"}),(0,r.jsx)(n.td,{children:"To fork and manage your instance"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.a,{href:"https://github.com/signup",children:"Sign up"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"MongoDB Atlas Account"}),(0,r.jsx)(n.td,{children:"For your database"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.a,{href:"https://www.mongodb.com/cloud/atlas/register",children:"Sign up"})})]})]})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"environment-variables",children:"Environment Variables"}),"\n",(0,r.jsx)(n.h3,{id:"required-variables",children:"Required Variables"}),"\n",(0,r.jsx)(n.p,{children:"These must be configured for NetPad to function:"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Variable"}),(0,r.jsx)(n.th,{children:"Description"}),(0,r.jsx)(n.th,{children:"How to Generate"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"MONGODB_URI"})}),(0,r.jsx)(n.td,{children:"MongoDB connection string"}),(0,r.jsxs)(n.td,{children:["See ",(0,r.jsx)(n.a,{href:"#setting-up-mongodb-atlas",children:"MongoDB Atlas Setup"})," below"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"SESSION_SECRET"})}),(0,r.jsx)(n.td,{children:"Secret for session encryption (min 32 characters)"}),(0,r.jsxs)(n.td,{children:["Run: ",(0,r.jsx)(n.code,{children:"openssl rand -hex 32"})]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"VAULT_ENCRYPTION_KEY"})}),(0,r.jsx)(n.td,{children:"Base64 key for vault encryption (32 bytes)"}),(0,r.jsxs)(n.td,{children:["Run: ",(0,r.jsx)(n.code,{children:"openssl rand -base64 32"})]})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"recommended-variables",children:"Recommended Variables"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Variable"}),(0,r.jsx)(n.th,{children:"Description"}),(0,r.jsx)(n.th,{children:"Default"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"MONGODB_DATABASE"})}),(0,r.jsx)(n.td,{children:"Database name for NetPad data"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"forms"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"NEXT_PUBLIC_APP_URL"})}),(0,r.jsx)(n.td,{children:"Public URL of your deployment"}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"${VERCEL_URL}"})," (auto-detected)"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"APP_URL"})}),(0,r.jsx)(n.td,{children:"Server-side URL for callbacks"}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"${VERCEL_URL}"})," (auto-detected)"]})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"optional-variables---features",children:"Optional Variables - Features"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Variable"}),(0,r.jsx)(n.th,{children:"Description"}),(0,r.jsx)(n.th,{children:"Enables"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"OPENAI_API_KEY"})}),(0,r.jsx)(n.td,{children:"OpenAI API key"}),(0,r.jsx)(n.td,{children:"AI form/workflow generation"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"BLOB_READ_WRITE_TOKEN"})}),(0,r.jsx)(n.td,{children:"Vercel Blob storage token"}),(0,r.jsx)(n.td,{children:"File uploads in forms"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"GOOGLE_CLIENT_ID"})}),(0,r.jsx)(n.td,{children:"Google OAuth client ID"}),(0,r.jsx)(n.td,{children:"Google login"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"GOOGLE_CLIENT_SECRET"})}),(0,r.jsx)(n.td,{children:"Google OAuth secret"}),(0,r.jsx)(n.td,{children:"Google login"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"GITHUB_CLIENT_ID"})}),(0,r.jsx)(n.td,{children:"GitHub OAuth client ID"}),(0,r.jsx)(n.td,{children:"GitHub login"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"GITHUB_CLIENT_SECRET"})}),(0,r.jsx)(n.td,{children:"GitHub OAuth secret"}),(0,r.jsx)(n.td,{children:"GitHub login"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"SMTP_HOST"})}),(0,r.jsx)(n.td,{children:"SMTP server hostname"}),(0,r.jsx)(n.td,{children:"Magic link email login"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"SMTP_PORT"})}),(0,r.jsx)(n.td,{children:"SMTP server port"}),(0,r.jsx)(n.td,{children:"Magic link email login"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"SMTP_USER"})}),(0,r.jsx)(n.td,{children:"SMTP username"}),(0,r.jsx)(n.td,{children:"Magic link email login"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"SMTP_PASS"})}),(0,r.jsx)(n.td,{children:"SMTP password"}),(0,r.jsx)(n.td,{children:"Magic link email login"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"FROM_EMAIL"})}),(0,r.jsx)(n.td,{children:"Sender email address"}),(0,r.jsx)(n.td,{children:"Magic link email login"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"optional-variables---billing",children:"Optional Variables - Billing"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Variable"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"STRIPE_SECRET_KEY"})}),(0,r.jsx)(n.td,{children:"Stripe secret key"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"STRIPE_PUBLISHABLE_KEY"})}),(0,r.jsx)(n.td,{children:"Stripe publishable key"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"STRIPE_WEBHOOK_SECRET"})}),(0,r.jsx)(n.td,{children:"Stripe webhook signing secret"})]})]})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"setting-up-mongodb-atlas",children:"Setting Up MongoDB Atlas"}),"\n",(0,r.jsx)(n.h3,{id:"step-1-create-a-free-cluster",children:"Step 1: Create a Free Cluster"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Go to ",(0,r.jsx)(n.a,{href:"https://cloud.mongodb.com",children:"MongoDB Atlas"})]}),"\n",(0,r.jsx)(n.li,{children:"Create a new project or use an existing one"}),"\n",(0,r.jsxs)(n.li,{children:["Click ",(0,r.jsx)(n.strong,{children:'"Build a Database"'})]}),"\n",(0,r.jsxs)(n.li,{children:["Select ",(0,r.jsx)(n.strong,{children:"M0 (Free)"})," for testing, or ",(0,r.jsx)(n.strong,{children:"M2/M5"})," for production"]}),"\n",(0,r.jsx)(n.li,{children:"Choose a cloud provider (AWS recommended) and region close to your Vercel deployment region"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"step-2-create-a-database-user",children:"Step 2: Create a Database User"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Navigate to ",(0,r.jsx)(n.strong,{children:"Security \u2192 Database Access"})]}),"\n",(0,r.jsxs)(n.li,{children:["Click ",(0,r.jsx)(n.strong,{children:'"Add New Database User"'})]}),"\n",(0,r.jsxs)(n.li,{children:["Select ",(0,r.jsx)(n.strong,{children:"Password authentication"})]}),"\n",(0,r.jsxs)(n.li,{children:["Enter a username (e.g., ",(0,r.jsx)(n.code,{children:"netpad-user"}),")"]}),"\n",(0,r.jsxs)(n.li,{children:["Click ",(0,r.jsx)(n.strong,{children:'"Autogenerate Secure Password"'})," and save it securely"]}),"\n",(0,r.jsxs)(n.li,{children:["Set privileges to ",(0,r.jsx)(n.strong,{children:'"Read and write to any database"'})]}),"\n",(0,r.jsxs)(n.li,{children:["Click ",(0,r.jsx)(n.strong,{children:'"Add User"'})]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"step-3-configure-network-access",children:"Step 3: Configure Network Access"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Navigate to ",(0,r.jsx)(n.strong,{children:"Security \u2192 Network Access"})]}),"\n",(0,r.jsxs)(n.li,{children:["Click ",(0,r.jsx)(n.strong,{children:'"Add IP Address"'})]}),"\n",(0,r.jsxs)(n.li,{children:["For quick setup: Click ",(0,r.jsx)(n.strong,{children:'"Allow Access from Anywhere"'})," (",(0,r.jsx)(n.code,{children:"0.0.0.0/0"}),")"]}),"\n"]}),"\n",(0,r.jsx)(n.admonition,{type:"note",children:(0,r.jsx)(n.p,{children:"For production, consider using Vercel's IP ranges or MongoDB Atlas Private Endpoints"})}),"\n",(0,r.jsxs)(n.ol,{start:"4",children:["\n",(0,r.jsxs)(n.li,{children:["Click ",(0,r.jsx)(n.strong,{children:'"Confirm"'})]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"step-4-get-your-connection-string",children:"Step 4: Get Your Connection String"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Navigate to ",(0,r.jsx)(n.strong,{children:"Databases \u2192 Connect"})]}),"\n",(0,r.jsxs)(n.li,{children:["Click ",(0,r.jsx)(n.strong,{children:'"Connect your application"'})]}),"\n",(0,r.jsxs)(n.li,{children:["Select ",(0,r.jsx)(n.strong,{children:"Driver: Node.js"})," and ",(0,r.jsx)(n.strong,{children:"Version: 5.5 or later"})]}),"\n",(0,r.jsx)(n.li,{children:"Copy the connection string"}),"\n",(0,r.jsxs)(n.li,{children:["Replace ",(0,r.jsx)(n.code,{children:"<password>"})," with your database user's password"]}),"\n",(0,r.jsxs)(n.li,{children:["Add your database name before the ",(0,r.jsx)(n.code,{children:"?"}),":"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"mongodb+srv://username:password@cluster.mongodb.net/forms?retryWrites=true&w=majority\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"manual-deployment-steps",children:"Manual Deployment Steps"}),"\n",(0,r.jsx)(n.p,{children:"If you prefer to deploy manually instead of using the one-click button:"}),"\n",(0,r.jsx)(n.h3,{id:"step-1-fork-the-repository",children:"Step 1: Fork the Repository"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Go to ",(0,r.jsx)(n.a,{href:"https://github.com/mrlynn/netpad-v3",children:"github.com/mrlynn/netpad-v3"})]}),"\n",(0,r.jsxs)(n.li,{children:["Click ",(0,r.jsx)(n.strong,{children:'"Fork"'})," in the top right"]}),"\n",(0,r.jsx)(n.li,{children:"This creates your own copy of NetPad that you can customize"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"step-2-import-to-vercel",children:"Step 2: Import to Vercel"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Go to ",(0,r.jsx)(n.a,{href:"https://vercel.com/new",children:"vercel.com/new"})]}),"\n",(0,r.jsxs)(n.li,{children:["Click ",(0,r.jsx)(n.strong,{children:'"Import"'})," next to your forked repository"]}),"\n",(0,r.jsxs)(n.li,{children:["Configure the project:","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Framework Preset"}),": Next.js (auto-detected)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Root Directory"}),": Leave empty"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Build Command"}),": ",(0,r.jsx)(n.code,{children:"npm run build"})," (default)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Output Directory"}),": Leave empty (default)"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"step-3-add-environment-variables",children:"Step 3: Add Environment Variables"}),"\n",(0,r.jsx)(n.p,{children:"In the Vercel project configuration:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Expand ",(0,r.jsx)(n.strong,{children:'"Environment Variables"'})]}),"\n",(0,r.jsxs)(n.li,{children:["Add each required variable:","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"MONGODB_URI"})," = your connection string"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"SESSION_SECRET"})," = your generated secret"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"VAULT_ENCRYPTION_KEY"})," = your generated key"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.li,{children:"Add any optional variables for features you want"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"step-4-deploy",children:"Step 4: Deploy"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Click ",(0,r.jsx)(n.strong,{children:'"Deploy"'})]}),"\n",(0,r.jsx)(n.li,{children:"Wait for the build to complete (~2-3 minutes)"}),"\n",(0,r.jsxs)(n.li,{children:["Click ",(0,r.jsx)(n.strong,{children:'"Visit"'})," to see your deployment"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"step-5-verify",children:"Step 5: Verify"}),"\n",(0,r.jsx)(n.p,{children:"Check the health endpoint:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"https://your-app.vercel.app/api/v1/health\n"})}),"\n",(0,r.jsx)(n.p,{children:"Expected response:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "status": "healthy",\n  "api": { "status": "operational", "responseTimeMs": 10 },\n  "database": { "status": "connected", "responseTimeMs": 50 }\n}\n'})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"post-deployment-configuration",children:"Post-Deployment Configuration"}),"\n",(0,r.jsx)(n.h3,{id:"setting-up-oauth-login",children:"Setting Up OAuth Login"}),"\n",(0,r.jsx)(n.h4,{id:"google-oauth",children:"Google OAuth"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Go to ",(0,r.jsx)(n.a,{href:"https://console.cloud.google.com/apis/credentials",children:"Google Cloud Console"})]}),"\n",(0,r.jsx)(n.li,{children:"Create a new OAuth 2.0 Client ID"}),"\n",(0,r.jsxs)(n.li,{children:["Set authorized redirect URI: ",(0,r.jsx)(n.code,{children:"https://your-app.vercel.app/api/auth/google/callback"})]}),"\n",(0,r.jsxs)(n.li,{children:["Add ",(0,r.jsx)(n.code,{children:"GOOGLE_CLIENT_ID"})," and ",(0,r.jsx)(n.code,{children:"GOOGLE_CLIENT_SECRET"})," to Vercel"]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"github-oauth",children:"GitHub OAuth"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Go to ",(0,r.jsx)(n.a,{href:"https://github.com/settings/developers",children:"GitHub Developer Settings"})]}),"\n",(0,r.jsx)(n.li,{children:"Create a new OAuth App"}),"\n",(0,r.jsxs)(n.li,{children:["Set callback URL: ",(0,r.jsx)(n.code,{children:"https://your-app.vercel.app/api/auth/github/callback"})]}),"\n",(0,r.jsxs)(n.li,{children:["Add ",(0,r.jsx)(n.code,{children:"GITHUB_CLIENT_ID"})," and ",(0,r.jsx)(n.code,{children:"GITHUB_CLIENT_SECRET"})," to Vercel"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"setting-up-magic-link-email",children:"Setting Up Magic Link Email"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Choose an SMTP provider (SendGrid, Postmark, AWS SES, etc.)"}),"\n",(0,r.jsx)(n.li,{children:"Add the SMTP environment variables"}),"\n",(0,r.jsx)(n.li,{children:"Redeploy to apply changes"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"setting-up-ai-features",children:"Setting Up AI Features"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Get an API key from ",(0,r.jsx)(n.a,{href:"https://platform.openai.com",children:"OpenAI Platform"})]}),"\n",(0,r.jsxs)(n.li,{children:["Add ",(0,r.jsx)(n.code,{children:"OPENAI_API_KEY"})," to Vercel"]}),"\n",(0,r.jsx)(n.li,{children:"Redeploy to enable AI form/workflow generation"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"setting-up-file-uploads",children:"Setting Up File Uploads"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["In Vercel Dashboard, go to ",(0,r.jsx)(n.strong,{children:"Storage \u2192 Create Database \u2192 Blob"})]}),"\n",(0,r.jsx)(n.li,{children:"Create a new Blob store"}),"\n",(0,r.jsxs)(n.li,{children:["Copy the ",(0,r.jsx)(n.code,{children:"BLOB_READ_WRITE_TOKEN"})]}),"\n",(0,r.jsx)(n.li,{children:"Add it to your environment variables"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"custom-domain-setup",children:"Custom Domain Setup"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Go to your Vercel project \u2192 ",(0,r.jsx)(n.strong,{children:"Settings \u2192 Domains"})]}),"\n",(0,r.jsxs)(n.li,{children:["Add your custom domain (e.g., ",(0,r.jsx)(n.code,{children:"forms.yourcompany.com"}),")"]}),"\n",(0,r.jsx)(n.li,{children:"Configure DNS as instructed by Vercel"}),"\n",(0,r.jsx)(n.li,{children:"Update environment variables:"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"NEXT_PUBLIC_APP_URL=https://forms.yourcompany.com\nAPP_URL=https://forms.yourcompany.com\n"})}),"\n",(0,r.jsxs)(n.ol,{start:"5",children:["\n",(0,r.jsx)(n.li,{children:"Update OAuth callback URLs if using Google/GitHub login"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"keeping-your-instance-updated",children:"Keeping Your Instance Updated"}),"\n",(0,r.jsx)(n.h3,{id:"automatic-updates-recommended",children:"Automatic Updates (Recommended)"}),"\n",(0,r.jsx)(n.p,{children:"Set up GitHub Actions to sync with the main NetPad repository:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["In your forked repo, go to ",(0,r.jsx)(n.strong,{children:"Settings \u2192 Actions \u2192 General"})]}),"\n",(0,r.jsx)(n.li,{children:"Enable workflows"}),"\n",(0,r.jsx)(n.li,{children:"Updates will be merged automatically (or create PRs for review)"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"manual-updates",children:"Manual Updates"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Add upstream remote\ngit remote add upstream https://github.com/mrlynn/netpad-v3.git\n\n# Fetch updates\ngit fetch upstream\n\n# Merge updates\ngit merge upstream/main\n\n# Push to your fork (triggers Vercel redeploy)\ngit push\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,r.jsx)(n.h3,{id:"database-connection-failed",children:'"Database connection failed"'}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Verify ",(0,r.jsx)(n.code,{children:"MONGODB_URI"})," is correct and includes the password"]}),"\n",(0,r.jsxs)(n.li,{children:["Check MongoDB Atlas Network Access allows your IP (or ",(0,r.jsx)(n.code,{children:"0.0.0.0/0"}),")"]}),"\n",(0,r.jsx)(n.li,{children:"Ensure the database user has correct permissions"}),"\n",(0,r.jsx)(n.li,{children:"Try the connection string in MongoDB Compass to verify"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"session-error-or-authentication-failed",children:'"Session error" or "Authentication failed"'}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Ensure ",(0,r.jsx)(n.code,{children:"SESSION_SECRET"})," is at least 32 characters"]}),"\n",(0,r.jsx)(n.li,{children:"Don't share secrets between different deployments"}),"\n",(0,r.jsx)(n.li,{children:"Regenerate and redeploy if you suspect compromise"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"vault-encryption-failed",children:'"Vault encryption failed"'}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"VAULT_ENCRYPTION_KEY"})," must be valid base64"]}),"\n",(0,r.jsx)(n.li,{children:"Must decode to exactly 32 bytes"}),"\n",(0,r.jsxs)(n.li,{children:["Generate fresh: ",(0,r.jsx)(n.code,{children:"openssl rand -base64 32"})]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"oauth-callback-failed",children:'"OAuth callback failed"'}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Verify callback URLs match your deployment domain exactly"}),"\n",(0,r.jsx)(n.li,{children:"Check for trailing slashes in URLs"}),"\n",(0,r.jsx)(n.li,{children:"Ensure client ID and secret are correct"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"build-fails",children:"Build fails"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Check build logs in Vercel dashboard"}),"\n",(0,r.jsx)(n.li,{children:"Ensure Node.js version 18+ is being used"}),"\n",(0,r.jsx)(n.li,{children:"Verify all required environment variables are set"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"workflows-not-running",children:"Workflows not running"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Vercel Cron requires Pro plan or higher"}),"\n",(0,r.jsxs)(n.li,{children:["Check ",(0,r.jsx)(n.code,{children:"/api/workflows/process"})," endpoint is accessible"]}),"\n",(0,r.jsx)(n.li,{children:"Verify no errors in Vercel Functions logs"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"architecture-overview",children:"Architecture Overview"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                    Your Vercel Deployment                    \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502\n\u2502  \u2502  Next.js    \u2502  \u2502 Vercel Cron \u2502  \u2502   Vercel Blob       \u2502 \u2502\n\u2502  \u2502  App        \u2502  \u2502 (workflows) \u2502  \u2502   (file storage)    \u2502 \u2502\n\u2502  \u2502  (Edge/     \u2502  \u2502             \u2502  \u2502                     \u2502 \u2502\n\u2502  \u2502  Serverless)\u2502  \u2502 Every min   \u2502  \u2502   Optional          \u2502 \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502\n\u2502         \u2502                \u2502                                   \u2502\n\u2502         \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                                   \u2502\n\u2502                  \u2502                                           \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                   \u2502\n                   \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502              Your MongoDB Atlas Cluster                      \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\u2502\n\u2502  \u2502 Database: forms                                         \u2502\u2502\n\u2502  \u2502  \u251c\u2500\u2500 users           (user accounts)                    \u2502\u2502\n\u2502  \u2502  \u251c\u2500\u2500 organizations   (teams/workspaces)                 \u2502\u2502\n\u2502  \u2502  \u251c\u2500\u2500 forms           (form definitions)                 \u2502\u2502\n\u2502  \u2502  \u251c\u2500\u2500 form_responses  (submissions)                      \u2502\u2502\n\u2502  \u2502  \u251c\u2500\u2500 workflows       (automation definitions)           \u2502\u2502\n\u2502  \u2502  \u251c\u2500\u2500 workflow_jobs   (execution history)                \u2502\u2502\n\u2502  \u2502  \u2514\u2500\u2500 connection_vaults (encrypted connections)          \u2502\u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"frequently-asked-questions",children:"Frequently Asked Questions"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Q: Is self-hosting free?"}),"\nA: Yes! Vercel's Hobby plan and MongoDB Atlas M0 are both free. You only pay if you need more resources."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Q: Can I use my existing MongoDB cluster?"}),"\nA: Absolutely. Just use your existing connection string in ",(0,r.jsx)(n.code,{children:"MONGODB_URI"}),"."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Q: Will my data sync with netpad.io?"}),"\nA: No. Self-hosted instances are completely independent. Your data stays in your own database."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Q: Can I customize the code?"}),"\nA: Yes! Fork the repository and make any changes you need. It's open source under MIT license."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Q: How do I backup my data?"}),"\nA: Use MongoDB Atlas's built-in backup features, or use ",(0,r.jsx)(n.code,{children:"mongodump"})," for manual backups."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Q: Can I migrate from netpad.io to self-hosted?"}),"\nA: Yes. Export your forms and data from netpad.io and import to your self-hosted instance."]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"getting-help",children:"Getting Help"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Documentation"}),": ",(0,r.jsx)(n.a,{href:"https://docs.netpad.io",children:"docs.netpad.io"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"GitHub Issues"}),": ",(0,r.jsx)(n.a,{href:"https://github.com/mrlynn/netpad-v3/issues",children:"github.com/mrlynn/netpad-v3/issues"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Community Discord"}),": ",(0,r.jsx)(n.a,{href:"https://discord.gg/netpad",children:"Join our Discord"})]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/docs/deployment/self-hosted",children:"Self-Hosted Deployment"})," - Alternative deployment options"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/docs/deployment/docker",children:"Docker Deployment"})," - Container-based deployment"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/docs/getting-started/configuration",children:"Configuration"})," - Detailed configuration options"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>t,x:()=>d});var i=s(6540);const r={},l=i.createContext(r);function t(e){const n=i.useContext(l);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),i.createElement(l.Provider,{value:n},e.children)}}}]);