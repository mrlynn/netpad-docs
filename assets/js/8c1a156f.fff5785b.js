"use strict";(self.webpackChunkdocs_netpad_io=self.webpackChunkdocs_netpad_io||[]).push([[9024],{28453:(e,n,s)=>{s.d(n,{R:()=>a,x:()=>i});var r=s(96540);const t={},c=r.createContext(t);function a(e){const n=r.useContext(c);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:a(e.components),r.createElement(c.Provider,{value:n},e.children)}},43528:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>d,contentTitle:()=>i,default:()=>h,frontMatter:()=>a,metadata:()=>r,toc:()=>l});const r=JSON.parse('{"id":"api/marketplace-npm","title":"npm Integration API","description":"The npm Integration API provides endpoints for searching, installing, and syncing NetPad packages from npm.","source":"@site/docs/api/marketplace-npm.md","sourceDirName":"api","slug":"/api/marketplace-npm","permalink":"/docs/api/marketplace-npm","draft":false,"unlisted":false,"editUrl":"https://github.com/mrlynn/netpad-v3/tree/main/docs/docs/api/marketplace-npm.md","tags":[],"version":"current","frontMatter":{}}');var t=s(74848),c=s(28453);const a={},i="npm Integration API",d={},l=[{value:"Endpoints",id:"endpoints",level:2},{value:"Search npm Packages",id:"search-npm-packages",level:2},{value:"Install from npm",id:"install-from-npm",level:2},{value:"Get Sync Status",id:"get-sync-status",level:2},{value:"Trigger Manual Sync",id:"trigger-manual-sync",level:2},{value:"Package Naming Convention",id:"package-naming-convention",level:2},{value:"Related Documentation",id:"related-documentation",level:2}];function o(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,c.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"npm-integration-api",children:"npm Integration API"})}),"\n",(0,t.jsx)(n.p,{children:"The npm Integration API provides endpoints for searching, installing, and syncing NetPad packages from npm."}),"\n",(0,t.jsx)(n.h2,{id:"endpoints",children:"Endpoints"}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Method"}),(0,t.jsx)(n.th,{children:"Endpoint"}),(0,t.jsx)(n.th,{children:"Description"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"GET"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"/api/marketplace/npm/search"})}),(0,t.jsx)(n.td,{children:"Search npm for NetPad packages"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"POST"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"/api/marketplace/npm/install"})}),(0,t.jsx)(n.td,{children:"Install a package from npm"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"GET"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"/api/marketplace/npm/sync"})}),(0,t.jsx)(n.td,{children:"Get sync status"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.strong,{children:"POST"})}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"/api/marketplace/npm/sync"})}),(0,t.jsx)(n.td,{children:"Trigger manual sync"})]})]})]}),"\n",(0,t.jsx)(n.h2,{id:"search-npm-packages",children:"Search npm Packages"}),"\n",(0,t.jsx)(n.p,{children:"Search for NetPad-compatible packages on npm."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-http",children:"GET /api/marketplace/npm/search\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Query Parameters:"})}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Parameter"}),(0,t.jsx)(n.th,{children:"Type"}),(0,t.jsx)(n.th,{children:"Description"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"query"})}),(0,t.jsx)(n.td,{children:"string"}),(0,t.jsx)(n.td,{children:"Search query"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"page"})}),(0,t.jsx)(n.td,{children:"number"}),(0,t.jsx)(n.td,{children:"Page number (default: 1)"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"pageSize"})}),(0,t.jsx)(n.td,{children:"number"}),(0,t.jsx)(n.td,{children:"Items per page (default: 20)"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"scope"})}),(0,t.jsx)(n.td,{children:"string"}),(0,t.jsxs)(n.td,{children:["npm scope filter (e.g., ",(0,t.jsx)(n.code,{children:"@netpad"}),")"]})]})]})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Example Request:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'curl -X GET "https://your-domain.com/api/marketplace/npm/search?query=customer-portal" \\\n  -H "Authorization: Bearer np_live_your_api_key"\n'})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Example Response:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n  "success": true,\n  "data": [\n    {\n      "name": "@netpad/customer-portal",\n      "version": "1.2.3",\n      "description": "Customer self-service portal for NetPad",\n      "author": "NetPad Team",\n      "keywords": ["netpad", "portal", "customer"],\n      "repository": "https://github.com/netpad/customer-portal",\n      "npmUrl": "https://www.npmjs.com/package/@netpad/customer-portal",\n      "downloads": {\n        "weekly": 450,\n        "monthly": 1800\n      },\n      "publishedAt": "2024-01-10T08:30:00.000Z"\n    }\n  ],\n  "pagination": {\n    "total": 25,\n    "page": 1,\n    "pageSize": 20\n  }\n}\n'})}),"\n",(0,t.jsx)(n.h2,{id:"install-from-npm",children:"Install from npm"}),"\n",(0,t.jsx)(n.p,{children:"Install a NetPad package directly from npm into your organization."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-http",children:"POST /api/marketplace/npm/install\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Request Body:"})}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Field"}),(0,t.jsx)(n.th,{children:"Type"}),(0,t.jsx)(n.th,{children:"Required"}),(0,t.jsx)(n.th,{children:"Description"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"packageName"})}),(0,t.jsx)(n.td,{children:"string"}),(0,t.jsx)(n.td,{children:"Yes"}),(0,t.jsx)(n.td,{children:"npm package name"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"version"})}),(0,t.jsx)(n.td,{children:"string"}),(0,t.jsx)(n.td,{children:"No"}),(0,t.jsxs)(n.td,{children:["Version to install (default: ",(0,t.jsx)(n.code,{children:"latest"}),")"]})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"targetOrganization"})}),(0,t.jsx)(n.td,{children:"string"}),(0,t.jsx)(n.td,{children:"No"}),(0,t.jsx)(n.td,{children:"Organization to install to"})]})]})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Example Request:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'curl -X POST "https://your-domain.com/api/marketplace/npm/install" \\\n  -H "Authorization: Bearer np_live_your_api_key" \\\n  -H "Content-Type: application/json" \\\n  -d \'{\n    "packageName": "@netpad/customer-portal",\n    "version": "1.2.3"\n  }\'\n'})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Example Response:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n  "success": true,\n  "data": {\n    "installId": "inst_abc123",\n    "packageName": "@netpad/customer-portal",\n    "version": "1.2.3",\n    "status": "installing",\n    "applicationId": null\n  }\n}\n'})}),"\n",(0,t.jsx)(n.h2,{id:"get-sync-status",children:"Get Sync Status"}),"\n",(0,t.jsx)(n.p,{children:"Check the status of npm package synchronization."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-http",children:"GET /api/marketplace/npm/sync\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Example Request:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'curl -X GET "https://your-domain.com/api/marketplace/npm/sync" \\\n  -H "Authorization: Bearer np_live_your_api_key"\n'})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Example Response:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n  "success": true,\n  "data": {\n    "lastSync": "2024-01-20T06:00:00.000Z",\n    "nextSync": "2024-01-20T12:00:00.000Z",\n    "status": "idle",\n    "packagesIndexed": 156,\n    "syncInterval": "6h"\n  }\n}\n'})}),"\n",(0,t.jsx)(n.h2,{id:"trigger-manual-sync",children:"Trigger Manual Sync"}),"\n",(0,t.jsx)(n.p,{children:"Manually trigger a sync of npm packages."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-http",children:"POST /api/marketplace/npm/sync\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Request Body:"})}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Field"}),(0,t.jsx)(n.th,{children:"Type"}),(0,t.jsx)(n.th,{children:"Required"}),(0,t.jsx)(n.th,{children:"Description"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"scope"})}),(0,t.jsx)(n.td,{children:"string"}),(0,t.jsx)(n.td,{children:"No"}),(0,t.jsx)(n.td,{children:"Limit sync to specific npm scope"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"force"})}),(0,t.jsx)(n.td,{children:"boolean"}),(0,t.jsx)(n.td,{children:"No"}),(0,t.jsx)(n.td,{children:"Force re-sync all packages"})]})]})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Example Request:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'curl -X POST "https://your-domain.com/api/marketplace/npm/sync" \\\n  -H "Authorization: Bearer np_live_your_api_key" \\\n  -H "Content-Type: application/json" \\\n  -d \'{"scope": "@netpad", "force": false}\'\n'})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"Example Response:"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n  "success": true,\n  "data": {\n    "syncId": "sync_xyz789",\n    "status": "started",\n    "startedAt": "2024-01-20T14:30:00.000Z",\n    "estimatedDuration": "2m"\n  }\n}\n'})}),"\n",(0,t.jsx)(n.h2,{id:"package-naming-convention",children:"Package Naming Convention"}),"\n",(0,t.jsx)(n.p,{children:"NetPad-compatible npm packages should follow these conventions:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Scoped packages"}),": ",(0,t.jsx)(n.code,{children:"@netpad/*"})," or ",(0,t.jsx)(n.code,{children:"@your-org/netpad-*"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Unscoped packages"}),": ",(0,t.jsx)(n.code,{children:"netpad-*"})]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["Packages must include a ",(0,t.jsx)(n.code,{children:"netpad"})," field in their ",(0,t.jsx)(n.code,{children:"package.json"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n  "name": "@netpad/my-package",\n  "version": "1.0.0",\n  "netpad": {\n    "type": "application",\n    "category": "workflows",\n    "minVersion": "2.0.0"\n  }\n}\n'})}),"\n",(0,t.jsx)(n.h2,{id:"related-documentation",children:"Related Documentation"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"/docs/api/marketplace",children:"Marketplace API"})," - Full marketplace documentation"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"/docs/api/applications",children:"Applications API"})," - Application management"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,c.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(o,{...e})}):o(e)}}}]);