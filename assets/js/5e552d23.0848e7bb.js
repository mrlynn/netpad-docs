"use strict";(self.webpackChunkdocs_netpad_io=self.webpackChunkdocs_netpad_io||[]).push([[9212],{15702:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>h,frontMatter:()=>o,metadata:()=>s,toc:()=>a});const s=JSON.parse('{"id":"collaborators/architecture-overview","title":"Architecture Overview","description":"This document provides a technical overview of NetPad\'s architecture, key patterns, and where things live in the codebase.","source":"@site/docs/collaborators/architecture-overview.md","sourceDirName":"collaborators","slug":"/collaborators/architecture-overview","permalink":"/docs/collaborators/architecture-overview","draft":false,"unlisted":false,"editUrl":"https://github.com/mrlynn/netpad-v3/tree/main/docs/docs/collaborators/architecture-overview.md","tags":[],"version":"current","frontMatter":{},"sidebar":"docs","previous":{"title":"\ud83d\ude80 Getting Started","permalink":"/docs/collaborators/getting-started"},"next":{"title":"\ud83c\udfaf Current Priorities","permalink":"/docs/collaborators/current-priorities"}}');var i=r(74848),t=r(28453);const o={},l="Architecture Overview",c={},a=[{value:"High-Level Architecture",id:"high-level-architecture",level:2},{value:"The Four Pillars",id:"the-four-pillars",level:2},{value:"1. Forms",id:"1-forms",level:3},{value:"2. Workflows",id:"2-workflows",level:3},{value:"3. Data Management",id:"3-data-management",level:3},{value:"4. AI &amp; Conversational",id:"4-ai--conversational",level:3},{value:"Technology Stack",id:"technology-stack",level:2},{value:"Key Directories",id:"key-directories",level:2},{value:"Critical Patterns",id:"critical-patterns",level:2},{value:"1. Client/Server Boundary",id:"1-clientserver-boundary",level:3},{value:"2. Centralized LLM Service",id:"2-centralized-llm-service",level:3},{value:"3. Batch Operations Pattern",id:"3-batch-operations-pattern",level:3},{value:"4. Feature Gating",id:"4-feature-gating",level:3},{value:"5. Deployment Mode Awareness",id:"5-deployment-mode-awareness",level:3},{value:"Database Schema Overview",id:"database-schema-overview",level:2},{value:"Core Collections",id:"core-collections",level:3},{value:"Key Relationships",id:"key-relationships",level:3},{value:"API Structure",id:"api-structure",level:2},{value:"Next Steps",id:"next-steps",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"architecture-overview",children:"Architecture Overview"})}),"\n",(0,i.jsx)(n.p,{children:"This document provides a technical overview of NetPad's architecture, key patterns, and where things live in the codebase."}),"\n",(0,i.jsx)(n.h2,{id:"high-level-architecture",children:"High-Level Architecture"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                           NetPad Platform                                \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                                          \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502\n\u2502  \u2502    Forms      \u2502  \u2502   Workflows   \u2502  \u2502 Data Mgmt     \u2502  \u2502    AI    \u2502 \u2502\n\u2502  \u2502               \u2502  \u2502               \u2502  \u2502               \u2502  \u2502          \u2502 \u2502\n\u2502  \u2502 \u2022 Builder     \u2502  \u2502 \u2022 Visual      \u2502  \u2502 \u2022 Browser     \u2502  \u2502 \u2022 Conv.  \u2502 \u2502\n\u2502  \u2502 \u2022 WYSIWYG     \u2502  \u2502   Editor      \u2502  \u2502 \u2022 Connection  \u2502  \u2502   Forms  \u2502 \u2502\n\u2502  \u2502 \u2022 30+ Fields  \u2502  \u2502 \u2022 25+ Nodes   \u2502  \u2502   Vault       \u2502  \u2502 \u2022 15+    \u2502 \u2502\n\u2502  \u2502 \u2022 Converstnl  \u2502  \u2502 \u2022 Triggers    \u2502  \u2502 \u2022 Import/     \u2502  \u2502   Agents \u2502 \u2502\n\u2502  \u2502 \u2022 Analytics   \u2502  \u2502 \u2022 Execution   \u2502  \u2502   Export      \u2502  \u2502 \u2022 RAG    \u2502 \u2502\n\u2502  \u2502               \u2502  \u2502   Engine      \u2502  \u2502               \u2502  \u2502          \u2502 \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502\n\u2502          \u2502                  \u2502                  \u2502                \u2502       \u2502\n\u2502          \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518       \u2502\n\u2502                                      \u2502                                   \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\u2502\n\u2502  \u2502                    Platform Services                                 \u2502\u2502\n\u2502  \u2502  Organizations \u2502 Projects \u2502 Auth \u2502 Billing \u2502 Permissions \u2502 API      \u2502\u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\u2502\n\u2502                                      \u2502                                   \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\u2502\n\u2502  \u2502                     MongoDB Integration                              \u2502\u2502\n\u2502  \u2502              Atlas \u2022 Self-hosted \u2022 Atlas Data API                    \u2502\u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\u2502\n\u2502                                                                          \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,i.jsx)(n.h2,{id:"the-four-pillars",children:"The Four Pillars"}),"\n",(0,i.jsx)(n.p,{children:"NetPad is built around four core capabilities:"}),"\n",(0,i.jsx)(n.h3,{id:"1-forms",children:"1. Forms"}),"\n",(0,i.jsx)(n.p,{children:"The form system is the heart of NetPad\u2014a visual builder for creating MongoDB-connected data collection interfaces."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Key components:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"src/lib/forms/"})," - Form engine, validation, conditional logic"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"src/components/FormBuilder/"})," - Visual editor components"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"src/components/FormRenderer/"})," - Runtime form rendering"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"packages/forms/"})," - Embeddable ",(0,i.jsx)(n.code,{children:"@netpad/forms"})," package"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Form types:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Data Entry - Traditional CRUD forms"}),"\n",(0,i.jsx)(n.li,{children:"Search - Query interfaces with smart operators"}),"\n",(0,i.jsx)(n.li,{children:"Conversational - AI-powered natural language collection"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"2-workflows",children:"2. Workflows"}),"\n",(0,i.jsx)(n.p,{children:"Visual workflow automation built on ReactFlow."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Key components:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"src/lib/workflows/"})," - Workflow engine, execution"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"src/components/WorkflowEditor/"})," - ReactFlow-based visual editor"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"packages/workflows/"})," - ",(0,i.jsx)(n.code,{children:"@netpad/workflows"})," API client"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Execution model:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Queue-based async execution"}),"\n",(0,i.jsx)(n.li,{children:"Retry with exponential backoff"}),"\n",(0,i.jsx)(n.li,{children:"Node-level and workflow-level timeouts"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"3-data-management",children:"3. Data Management"}),"\n",(0,i.jsx)(n.p,{children:"Direct MongoDB integration with visual tools."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Key components:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"src/lib/mongodb/"})," - MongoDB client, connection management"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"src/components/DataBrowser/"})," - Collection browser UI"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"src/lib/platform/connectionVault.ts"})," - Encrypted credential storage"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"4-ai--conversational",children:"4. AI & Conversational"}),"\n",(0,i.jsx)(n.p,{children:"AI-powered features including conversational forms and RAG."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Key components:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"src/lib/ai/"})," - LLM integration, agents"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"src/lib/rag/"})," - Document processing, vector search"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"src/components/ConversationalForm/"})," - Chat-based form UI"]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"technology-stack",children:"Technology Stack"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"Frontend:\n\u251c\u2500\u2500 Next.js 14+ (App Router)\n\u251c\u2500\u2500 React 18+\n\u251c\u2500\u2500 Material-UI (MUI) 5\n\u251c\u2500\u2500 TypeScript\n\u251c\u2500\u2500 ReactFlow (workflow editor)\n\u2514\u2500\u2500 Socket.io (real-time)\n\nBackend:\n\u251c\u2500\u2500 Next.js API Routes\n\u251c\u2500\u2500 MongoDB Driver 6.5+\n\u251c\u2500\u2500 MongoDB Atlas Vector Search\n\u251c\u2500\u2500 OpenAI API (AI features)\n\u2514\u2500\u2500 Iron Session (auth)\n\nInfrastructure:\n\u251c\u2500\u2500 MongoDB Atlas\n\u251c\u2500\u2500 Vercel (hosting)\n\u251c\u2500\u2500 Vercel Blob (file storage)\n\u2514\u2500\u2500 SendGrid / Resend (email)\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"key-directories",children:"Key Directories"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"src/\n\u251c\u2500\u2500 app/                     # Next.js App Router\n\u2502   \u251c\u2500\u2500 api/                 # API routes (165+ endpoints)\n\u2502   \u251c\u2500\u2500 (auth)/              # Auth pages\n\u2502   \u251c\u2500\u2500 (dashboard)/         # Main app pages\n\u2502   \u2514\u2500\u2500 (public)/            # Public form pages\n\u2502\n\u251c\u2500\u2500 components/              # React components\n\u2502   \u251c\u2500\u2500 FormBuilder/         # Form editor\n\u2502   \u251c\u2500\u2500 FormRenderer/        # Form display\n\u2502   \u251c\u2500\u2500 WorkflowEditor/      # Workflow editor\n\u2502   \u251c\u2500\u2500 DataBrowser/         # Data explorer\n\u2502   \u2514\u2500\u2500 ui/                  # Shared UI components\n\u2502\n\u251c\u2500\u2500 lib/                     # Core libraries\n\u2502   \u251c\u2500\u2500 forms/               # Form engine\n\u2502   \u251c\u2500\u2500 workflows/           # Workflow engine\n\u2502   \u251c\u2500\u2500 ai/                  # AI/LLM services\n\u2502   \u251c\u2500\u2500 rag/                 # RAG pipeline\n\u2502   \u251c\u2500\u2500 mongodb/             # Database layer\n\u2502   \u2514\u2500\u2500 platform/            # Platform services\n\u2502\n\u2514\u2500\u2500 types/                   # TypeScript types\n    \u251c\u2500\u2500 forms.ts\n    \u251c\u2500\u2500 workflows.ts\n    \u2514\u2500\u2500 platform.ts\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"critical-patterns",children:"Critical Patterns"}),"\n",(0,i.jsx)(n.h3,{id:"1-clientserver-boundary",children:"1. Client/Server Boundary"}),"\n",(0,i.jsx)(n.p,{children:"Next.js App Router enforces a clear separation:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-tsx",children:"// Server Component (default)\nasync function ServerComponent() {\n  const data = await db.collection('forms').find().toArray();\n  return <ClientComponent data={data} />;\n}\n\n// Client Component\n'use client';\nfunction ClientComponent({ data }) {\n  const [state, setState] = useState(data);\n  // Interactive logic here\n}\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Rule:"})," Database operations happen in Server Components or API routes. Never import MongoDB client in client components."]}),"\n",(0,i.jsx)(n.h3,{id:"2-centralized-llm-service",children:"2. Centralized LLM Service"}),"\n",(0,i.jsx)(n.p,{children:"All AI operations go through a single service:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"// src/lib/ai/llm.ts\nexport async function generateWithLLM(prompt: string, options: LLMOptions) {\n  // Centralized: rate limiting, caching, error handling\n}\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Why:"})," Consistent error handling, usage tracking, easy provider swapping."]}),"\n",(0,i.jsx)(n.h3,{id:"3-batch-operations-pattern",children:"3. Batch Operations Pattern"}),"\n",(0,i.jsx)(n.p,{children:"For bulk updates, we use MongoDB bulk operations:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"const bulkOps = items.map(item => ({\n  updateOne: {\n    filter: { _id: item._id },\n    update: { $set: { status: 'processed' } }\n  }\n}));\n\nawait collection.bulkWrite(bulkOps);\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Why:"})," Reduces round trips, improves performance."]}),"\n",(0,i.jsx)(n.h3,{id:"4-feature-gating",children:"4. Feature Gating"}),"\n",(0,i.jsx)(n.p,{children:"Two-tier access control for features:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"// src/types/platform.ts\nfunction checkFeatureAccess(feature: string, org: Organization) {\n  // Tier 1: Subscription level (Free, Pro, Team, Enterprise)\n  // Tier 2: Infrastructure requirements (e.g., M10+ for Vector Search)\n}\n"})}),"\n",(0,i.jsx)(n.h3,{id:"5-deployment-mode-awareness",children:"5. Deployment Mode Awareness"}),"\n",(0,i.jsx)(n.p,{children:"The platform adapts based on deployment mode:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"// Environment variable\nNETPAD_DEPLOYMENT_MODE=cloud | self-hosted | standalone\n\n// Runtime check\nconst mode = getDeploymentMode();\nif (mode === 'self-hosted') {\n  // RAG available to all tiers with Atlas Local\n}\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"database-schema-overview",children:"Database Schema Overview"}),"\n",(0,i.jsx)(n.h3,{id:"core-collections",children:"Core Collections"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Collection"}),(0,i.jsx)(n.th,{children:"Purpose"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"organizations"})}),(0,i.jsx)(n.td,{children:"Multi-tenant orgs with members"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"applications"})}),(0,i.jsx)(n.td,{children:"Application bundles"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"forms"})}),(0,i.jsx)(n.td,{children:"Form definitions and schemas"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"workflows"})}),(0,i.jsx)(n.td,{children:"Workflow definitions"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"form_submissions"})}),(0,i.jsx)(n.td,{children:"Form response data"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"workflow_executions"})}),(0,i.jsx)(n.td,{children:"Execution history and logs"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"connections"})}),(0,i.jsx)(n.td,{children:"Encrypted MongoDB credentials"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"application_permissions"})}),(0,i.jsx)(n.td,{children:"RBAC for applications"})]})]})]}),"\n",(0,i.jsx)(n.h3,{id:"key-relationships",children:"Key Relationships"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"Organization\n\u251c\u2500\u2500 Members (embedded)\n\u251c\u2500\u2500 Projects\n\u2502   \u2514\u2500\u2500 Applications\n\u2502       \u251c\u2500\u2500 Forms\n\u2502       \u251c\u2500\u2500 Workflows\n\u2502       \u2514\u2500\u2500 Connections\n\u2514\u2500\u2500 Connection Vault\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"api-structure",children:"API Structure"}),"\n",(0,i.jsx)(n.p,{children:"The API is organized by domain:"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Path"}),(0,i.jsx)(n.th,{children:"Domain"}),(0,i.jsx)(n.th,{children:"Endpoints"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"/api/forms"})}),(0,i.jsx)(n.td,{children:"Forms"}),(0,i.jsx)(n.td,{children:"CRUD, submissions, analytics"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"/api/workflows"})}),(0,i.jsx)(n.td,{children:"Workflows"}),(0,i.jsx)(n.td,{children:"CRUD, execution, triggers"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"/api/applications"})}),(0,i.jsx)(n.td,{children:"Apps"}),(0,i.jsx)(n.td,{children:"CRUD, releases, permissions"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"/api/organizations"})}),(0,i.jsx)(n.td,{children:"Platform"}),(0,i.jsx)(n.td,{children:"Members, settings, vault"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"/api/marketplace"})}),(0,i.jsx)(n.td,{children:"Marketplace"}),(0,i.jsx)(n.td,{children:"Browse, publish, install"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"/api/ai"})}),(0,i.jsx)(n.td,{children:"AI"}),(0,i.jsx)(n.td,{children:"Agents, generation"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"/api/rag"})}),(0,i.jsx)(n.td,{children:"RAG"}),(0,i.jsx)(n.td,{children:"Documents, retrieval"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:"All API routes follow a consistent pattern:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"// src/app/api/forms/route.ts\nexport async function GET(request: Request) {\n  // 1. Auth check\n  // 2. Permission check\n  // 3. Business logic\n  // 4. Response\n}\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"/docs/collaborators/getting-started",children:"Getting Started"})," - Set up your environment"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"/docs/collaborators/current-priorities",children:"Current Priorities"})," - See active work"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"/docs/collaborators/contribution-guide",children:"Contribution Guide"})," - Learn our PR process"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},28453:(e,n,r)=>{r.d(n,{R:()=>o,x:()=>l});var s=r(96540);const i={},t=s.createContext(i);function o(e){const n=s.useContext(t);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),s.createElement(t.Provider,{value:n},e.children)}}}]);