"use strict";(self.webpackChunkdocs_netpad_io=self.webpackChunkdocs_netpad_io||[]).push([[6774],{8453:(e,n,s)=>{s.d(n,{R:()=>o,x:()=>c});var r=s(6540);const l={},i=r.createContext(l);function o(e){const n=r.useContext(i);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:o(e.components),r.createElement(i.Provider,{value:n},e.children)}},9437:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>t,contentTitle:()=>c,default:()=>h,frontMatter:()=>o,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"deployment/docker","title":"Docker Deployment","description":"Deploy NetPad using Docker containers for consistent, scalable deployments.","source":"@site/docs/deployment/docker.md","sourceDirName":"deployment","slug":"/deployment/docker","permalink":"/docs/deployment/docker","draft":false,"unlisted":false,"editUrl":"https://github.com/mrlynn/netpad-v3/tree/main/docs/docs/deployment/docker.md","tags":[],"version":"current","frontMatter":{},"sidebar":"docs","previous":{"title":"Self-Hosted Deployment","permalink":"/docs/deployment/self-hosted"},"next":{"title":"Keyboard Shortcuts","permalink":"/docs/guides/keyboard-shortcuts"}}');var l=s(4848),i=s(8453);const o={},c="Docker Deployment",t={},d=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Quick Start",id:"quick-start",level:2},{value:"Using Docker Compose",id:"using-docker-compose",level:3},{value:"Using Docker Directly",id:"using-docker-directly",level:3},{value:"Dockerfile",id:"dockerfile",level:2},{value:"Environment Variables",id:"environment-variables",level:2},{value:"Volumes",id:"volumes",level:2},{value:"Networking",id:"networking",level:2},{value:"Scaling",id:"scaling",level:2},{value:"Best Practices",id:"best-practices",level:2},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"Next Steps",id:"next-steps",level:2}];function a(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.header,{children:(0,l.jsx)(n.h1,{id:"docker-deployment",children:"Docker Deployment"})}),"\n",(0,l.jsx)(n.p,{children:"Deploy NetPad using Docker containers for consistent, scalable deployments."}),"\n",(0,l.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Docker installed"}),"\n",(0,l.jsx)(n.li,{children:"Docker Compose (optional, for multi-container setup)"}),"\n",(0,l.jsx)(n.li,{children:"MongoDB connection"}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"quick-start",children:"Quick Start"}),"\n",(0,l.jsx)(n.h3,{id:"using-docker-compose",children:"Using Docker Compose"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Create docker-compose.yml"}),":"]}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-yaml",children:"version: '3.8'\nservices:\n  netpad:\n    build: .\n    ports:\n      - \"3000:3000\"\n    environment:\n      - MONGODB_URI=mongodb+srv://...\n      - SESSION_SECRET=...\n      - VAULT_ENCRYPTION_KEY=...\n      - NEXT_PUBLIC_APP_URL=http://localhost:3000\n    restart: unless-stopped\n"})}),"\n",(0,l.jsxs)(n.ol,{start:"2",children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Start Services"}),":"]}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"docker-compose up -d\n"})}),"\n",(0,l.jsx)(n.h3,{id:"using-docker-directly",children:"Using Docker Directly"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Build Image"}),":"]}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"docker build -t netpad .\n"})}),"\n",(0,l.jsxs)(n.ol,{start:"2",children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Run Container"}),":"]}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"docker run -d \\\n  -p 3000:3000 \\\n  -e MONGODB_URI=mongodb+srv://... \\\n  -e SESSION_SECRET=... \\\n  -e VAULT_ENCRYPTION_KEY=... \\\n  -e NEXT_PUBLIC_APP_URL=http://localhost:3000 \\\n  --name netpad \\\n  netpad\n"})}),"\n",(0,l.jsx)(n.h2,{id:"dockerfile",children:"Dockerfile"}),"\n",(0,l.jsx)(n.p,{children:"Example Dockerfile:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-dockerfile",children:'FROM node:18-alpine\n\nWORKDIR /app\n\nCOPY package*.json ./\nRUN npm ci --only=production\n\nCOPY . .\nRUN npm run build\n\nEXPOSE 3000\n\nCMD ["npm", "start"]\n'})}),"\n",(0,l.jsx)(n.h2,{id:"environment-variables",children:"Environment Variables"}),"\n",(0,l.jsx)(n.p,{children:"Set via:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"docker-compose.yml"}),": In ",(0,l.jsx)(n.code,{children:"environment"})," section"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"docker run"}),": Using ",(0,l.jsx)(n.code,{children:"-e"})," flags"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:".env file"}),": Using ",(0,l.jsx)(n.code,{children:"--env-file"})," flag"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"volumes",children:"Volumes"}),"\n",(0,l.jsx)(n.p,{children:"Persist data:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-yaml",children:"volumes:\n  - ./data:/app/data\n"})}),"\n",(0,l.jsx)(n.h2,{id:"networking",children:"Networking"}),"\n",(0,l.jsx)(n.p,{children:"Connect to MongoDB:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"External MongoDB"}),": Use connection string"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Docker Network"}),": Connect to MongoDB container"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"scaling",children:"Scaling"}),"\n",(0,l.jsx)(n.p,{children:"Scale with Docker Swarm or Kubernetes:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"docker service scale netpad=3\n"})}),"\n",(0,l.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Use Multi-Stage Builds"}),": Reduce image size"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Health Checks"}),": Add health check endpoints"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Logging"}),": Configure log drivers"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Security"}),": Run as non-root user"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Container Won't Start"}),":"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Check environment variables"}),"\n",(0,l.jsx)(n.li,{children:"Verify MongoDB connection"}),"\n",(0,l.jsxs)(n.li,{children:["Check container logs: ",(0,l.jsx)(n.code,{children:"docker logs netpad"})]}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"Performance Issues"}),":"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Allocate sufficient resources"}),"\n",(0,l.jsx)(n.li,{children:"Use resource limits"}),"\n",(0,l.jsx)(n.li,{children:"Monitor container metrics"}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.a,{href:"/docs/deployment/self-hosted",children:"Self-Hosted Deployment"})," - Alternative deployment"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.a,{href:"/docs/getting-started/configuration",children:"Configuration"})," - Environment setup"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(a,{...e})}):a(e)}}}]);